{"version":3,"file":"static/js/synaudio.d9eb868f.chunk.js","mappings":"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","sources":["../../icecast-metadata-player/node_modules/simple-yenc/dist/esm.js","../../icecast-metadata-player/node_modules/@eshaz/web-worker/cjs/browser.js","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../../icecast-metadata-player/node_modules/synaudio/src/SynAudio.js","../../icecast-metadata-player/node_modules/synaudio/index.js"],"sourcesContent":["const t=(t,n=4294967295,e=79764919)=>{const r=new Int32Array(256);let o,s,i,c=n;for(o=0;o<256;o++){for(i=o<<24,s=8;s>0;--s)i=2147483648&i?i<<1^e:i<<1;r[o]=i}for(o=0;o<t.length;o++)c=c<<8^r[255&(c>>24^t[o])];return c},n=t=>{const n=[];for(const e of t){let t=(e+42)%256;0===t||10===t||13===t||61===t?n.push(\"=\"+String.fromCharCode((t+64)%256)):n.push(String.fromCharCode(t))}return n.join(\"\")},e=(n,e=t)=>{const r=t=>new Uint8Array(t.length/2).map(((n,e)=>parseInt(t.substring(2*e,2*(e+1)),16))),o=t=>r(t)[0],s=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach(((t,n)=>s.set(t,n)));const i=new Uint8Array(n.length);let c,a,l,f=!1,g=0,h=42,p=n.length>13&&\"dynEncode\"===n.substring(0,9),u=0;p&&(u=11,a=o(n.substring(9,u)),a<=1&&(u+=2,h=o(n.substring(11,u))),1===a&&(u+=8,l=(t=>new DataView(r(t).buffer).getInt32(0,!0))(n.substring(13,u))));const d=256-h;for(let t=u;t<n.length;t++)if(c=n.charCodeAt(t),61!==c||f){if(92===c&&t<n.length-5&&p){const e=n.charCodeAt(t+1);117!==e&&85!==e||(c=parseInt(n.substring(t+2,t+6),16),t+=5)}if(c>255){const t=s.get(c);t&&(c=t+127)}f&&(f=!1,c-=64),i[g++]=c<h&&c>0?c+d:c-h}else f=!0;const m=i.subarray(0,g);if(p&&1===a){const t=e(m);if(t!==l){const n=\"Decode failed crc32 validation\";throw console.error(\"`simple-yenc`\\n\",n+\"\\n\",\"Expected: \"+l+\"; Got: \"+t+\"\\n\",\"Visit https://github.com/eshaz/simple-yenc for more information\"),Error(n)}}return m},r=(n,e='\"',r=t,o)=>{const s=(t,n)=>(t%n+n)%n,i=(t,n)=>n.push(String.fromCharCode(61,(t+64)%256)),c=t=>t.map((t=>t.toString(16).padStart(2,\"0\")));let a,l,f=[],g=1/0,h=Array(256).fill(0);if('\"'===e?(l=[0,8,9,10,11,12,13,34,92,61],a=t=>0===t||8===t||9===t||10===t||11===t||12===t||13===t||34===t||92===t||61===t):\"'\"===e?(l=[0,8,9,10,11,12,13,39,92,61],a=t=>0===t||8===t||9===t||10===t||11===t||12===t||13===t||39===t||92===t||61===t):\"`\"===e&&(l=[13,61,96],f=[7,205,231],a=(t,n)=>13===t||36===t&&123===n||61===t||92===t&&(85===n||117===n)||96===t),void 0===o){o=0;for(let t=0;t<n.length;t++){const e=0|n[t];h[e]++;for(let r=0;r<f.length;r++){const o=f[r];s(e-n[t+1]|0,256)===o&&h[e]++}}for(let t=0;t<256;t++){let n=0;for(let e=0;e<l.length;e++)n+=h[s(l[e]-t,256)];n<g&&(g=n,o=t)}}const p=[\"dynEncode\",\"01\",c([o]),...c((t=>{const n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),[...n]})(r(n)))];for(let t=0;t<n.length;t++){const e=(n[t]+o)%256;a(e,(n[t+1]+o)%256)?i(e,p):p.push(String.fromCharCode(e))}return\"\\\\\"===p[p.length-1]&&(p.pop(),i(92,p)),p.join(\"\")},o=t=>t.replace(/[\\\\]/g,\"\\\\\\\\\").replace(/[`]/g,\"\\\\`\").replace(/\\${/g,\"\\\\${\");export{t as crc32,e as decode,r as dynamicEncode,n as encode,o as stringify};\n","/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nmodule.exports = Worker;","function _taggedTemplateLiteral(e, t) {\n  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {\n    raw: {\n      value: Object.freeze(t)\n    }\n  }));\n}\nexport { _taggedTemplateLiteral as default };","/* Copyright 2022-2023 Ethan Halsall\n    \n    This file is part of synaudio.\n    \n    synaudio is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    synaudio is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>\n*/\n\nimport { decode } from \"simple-yenc\";\nimport Worker from \"@eshaz/web-worker\";\n\n// prettier-ignore\nconst simd=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))\n\nconst wasmModule = new WeakMap();\nconst wasmHeapBase = new WeakMap();\n\n/* WASM strings are embedded during the build, do not manually edit the below */\n// BEGIN generated variables\nconst simdWasm = String.raw`dynEncode0164283d7f25dÅ×ÑedddereÄnããããããããããdfsegÉÒÚjÑÉÑÓÖÝfdfgfedjleãd¥äìhokfmÇÓÖÖÉÐÅØÉddoÃÃÌÉÅÔÃÆÅ×Égdn&e#inãoâlálàkßf¤¦bcccs¨ddddddT£¨ddddddddof¤f¤f¥f¬qdf¥eÏre\u0011e¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz\u000b¥fØy\u000b¥fØ¥¤ÕÏdÎue¥fØvr\u0011|d¥¤Ïsqg¤soqndf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdsu\u000bvÐfÎ­ufsÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz\u000b¥fØoÎndfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooqvÎqvwÎw¦eà|¶qdopeoe©qddde¥fØqÎ­hãdef¥fØ¥hÏÐdÎ­i¥doe¥h­Ös¦eá¦eç~d¥Îod¥Înd¥tÎp¦çxr\u0011}g¤ây¦dzf¤s©h¤ddadfddy\u000b¥fØfÎadfdaHeaofdf¤x¦hµqdppadfdfpÎadfdaHeaofdx¦lµqdnnadfdfnÎadfdaHeaofdx¦pµqdooadfdfoÎadfdaHeaofdoxzµqeo~´hâziz\u000b¥fØdÎfffdyzà\u000b¥fØdÎfdöfdz¦eèoyzµqdyázwy\u000b¥fØvÎudfg¤fvÎrrfdfuÎtfdöfdrrfhtfhöfhf¥lÎfz¦fáz¦d¶qdooqwÎw¦eà}¶qdoof¤i¥f¬qdi¥eÏfh\u0011h¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz\u000b¥fØy\u000b¥fØ¥¤ÕÏgÎsh¥fØif\u0011|¥dwg¥¤Ïhq¦dg¤hoqngf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdhs\u000biÐfÎ­sfhÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz\u000b¥fØoÎngfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooiqÎqiwÎw¦eà|¶qdopeoh©qdggh¥fØpÎ­hãghi¥fØ¥hÏÐgÎ­i¥doh¥h­Ör¦eá¦eç~g¥Îhg¥Îig¥tÎo¦çxf\u0011}¥dw¦dg¤ây¦dzf¤r©h¤ggadfdgy\u000b¥fØfÎadfdaHeaofdf¤x¦hµqdooadfdfoÎadfdaHeaofdx¦lµqdiiadfdfiÎadfdaHeaofdx¦pµqdhhadfdfhÎadfdaHeaofdoxzµqeo~´hâziz\u000b¥fØgÎfffdyzà\u000b¥fØgÎfdöfdz¦eèoyzµqdyázwy\u000b¥fØqÎsgfg¤fqÎnnfdfsÎvfdöfdnnfhvfhöfhf¥lÎfz¦fáz¦d¶qdoopwÎw¦eà}¶qdoo¥drm¥dfdl¥dfdj\u0011xfâj©h¤¦Ô¦dpeo¦df¤j¥e«h¤dfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz\u000b¥fØdÎfg¤ffd\u001f\u0004f¥hÎfz¦eáz¦d¶qdoo¦df¤j¥e«h¤apddddddddddddddddgfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz\u000b¥fØgÎfg¤ffd\u001f\u0004f¥hÎfz¦eáz¦d¶qdoox¦táj\u001c\u0007\u001a¦dj¥u­qd~aw¦dzgfg¤fadddaIeaJeaHefaddtaIeaJeaHefaddaIeaJeaHefaddaIeaJeaHef¥¤Ïfz¦tàz·qdo¥erx¦uá¦Ôç¦tàoyadaeöaföagöf¤xy»qdxxyá¦h¾hâapddddddddddddddddady\u000b¥fØgÎfaw¦àçzg¤fadfdaIeaJeaHef¥tÎfz¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadµqeyàiyoyázy\u000b¥fØgÎfg¤ffd÷øöf¥hÎfz¦eáz¦d¶qdooj\u001c\u0007\u001aj\u0017§ddä#ö¦dzrh¤awgfg¤ffadddaIeaoddffaddtaIeaodtffaddaIeaodffaddaIeaodf¥¤Ïfz¦tàz·qdooùf¤xz»qdxxzá¦gºhâz\u000b¥fØgÎfaw¦àçyg¤ffadfdaIeaofdf¥tÎfy¦háy¦d¶qdoµqezàizozáyz\u000b¥fØgÎfg¤fffd÷fdf¥hÎfy¦eáy¦d¶qdooejÏhõej«h¤h\u0011|k¥fØo\u0007§ddä£ùx¦uá¦Ôç¦tàlfdk\u0011{\u001fdn¦dg¤\u0006\u001afâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dz¥dfapddddddddddddddddapddddddddddddddddg¤fnÎeadddaIefgÎiadddaJeaHeeaddtaIeiaddtaJeaHeeaddaIeiaddaJeaHeeaddaIeiaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfz¦tàz·qdooy\u000be¥fØdÎifd\u001fadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady\u000b¥fØfaw~¦àç}zg¤fnÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy\u000b¥fØfg¤fnÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØiÎfd\u001f\u0005ø\u001fø\u001f\u0003\u0006\u0007\u001aÄ©hámefdlfdio\u0004noÎn{à|¸qdoof¤k¥e±qdmfdekkÐiÎfhfh­keiÏhf¤j©h¤peo¦dyj¥e«h¤h¥fØdÎfapddddddddddddddddxçyzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxyµqeoe¥fØy\u000b¥fØÎi¥fØÏdÎfxyázg¤ffd\u001f\u0004f¥hÎfz¦eáz¦d¶qdoohk³qdk\u0011|h\u0011e¥fØi¥fØÏdÎo\u0007§ddä£ùx¦uá¦Ôç¦tàlfd\u001fg¤\u0006\u001afâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dzofgpapddddddddddddddddapddddddddddddddddg¤fadddaIepadddaJeaHefaddtaIepaddtaJeaHefaddaIepaddaJeaHefaddaIepaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfp¥¤Ïpz¦tàz·qdooy\u000be¥fØdÎhfd\u001fadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady\u000b¥fØfaw~¦àç}zg¤foÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy\u000b¥fØfg¤foÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØhÎfd\u001f\u0005ø\u001fø\u001f\u0003\u0006\u0007\u001aÄ©hámefdlfdio\u0004o¥hÎo¦eà|¶qdoooo`;\nconst scalarWasm = String.raw`dynEncode0112b0cda4cc\u0012s\u0013\u0012\u0012\u0012\u0013/\u0015r\u0015\u0012r\u0017\u0013r\u001c\u0012\u0014!\u0013\u0015w\u0018w\u0014\u0012\u0014\u0015\u0016\u0015\u0012\u0013\u0014\u0018\u001a\u0013\u0012S\u0016\u001d\u0019-\u0014\u001buw~sw\u0012\u0014\u001dqqzwsqtsw\u0015\u0012\u001cå$\u0015­\u0015\u0015\u001a\u0016\u0013\u0014R2\u0014S\u0014Z\u001f\u00122\u0014S\u0013}3\u00142\u0013T\u0017k\u0016R2\u0013T\u00163\u001e2\u0013¹S\u00143\u001b2\u0014¿3\u001f2\u0012S\"|4\u001a3\u0018\u0015R2\u00183\u00152\u001a3\u00162\u00123\u0014T\u00123\u001d\u0015R2\u00142\u0014<\u0014\u00122\u00142\u001c|4\u0017<\u0014\u0012¤J\u0014\u00122\u00142\u0014<\u0014\u00162\u0017<\u0014\u0016¤J\u0014\u00162\u00142\u0014<\u0014\u001a2\u0017<\u0014\u001a¤J\u0014\u001a2\u00142\u0014<\u0014\u001e2\u0017<\u0014\u001e¤J\u0014\u001e2\u00154\u0019S\"|3\u00152\u00164\u0017S\"|3\u00162\u0014S\"|3\u00142\u001dT\u00164\u001d2\u001ee\u001f\u0012\u001d2\u00132\u001dg\u0016R\u0015R2\u00172\u0017<\u0014\u00122\u0019<\u0014\u0012¤J\u0014\u00122\u0019S\u0016|3\u00192\u0017S\u0016|3\u00172\u00132\u001dT\u00134\u001dg\u001f\u0012\u001d\u001d2\u00182\u001b|3\u00182\u001b2\u001c|3\u001c2\u001f2 T\u00134 d\u001f\u0012\u001d\u001e\u0013\u001d2\u0013T\u0012i\u001f\u00122\u0013¹S\u00143\u00152\u0012<\u0014\u00123!2\u0014¿3\u001d2\u00123\u0014\u0015R2\u00122!2\u0014<\u0014\u0012¤4!J\u0014\u0012\u0014R2\u0013T\u0013c\u001f\u00122\u00122\u0012<\u0014\u00162\u0014<\u0014\u0016¤J\u0014\u00162\u0013T\u0014c\u001f\u00122\u00122\u0012<\u0014\u001a2\u0014<\u0014\u001a¤J\u0014\u001a2\u0013T\u0015c\u001f\u00122\u00122\u0012<\u0014\u001e2\u0014<\u0014\u001e¤J\u0014\u001e\u001d2\u00142\u0015|3\u00142\u001dT\u00134\u001dT\u0012d\u001f\u0012\u001d\u001d\u001d \u0015\u0015\u0015\u0015\u0018\u0014R2\u00164\u0017T\u0017e\u0016T\u0012\u00172\u0017T\u00163\u00162\u0017T\u00173\u0018\u0015R2\u00122\u001a|4\u001b<\u0014\u00122\u0014¥4\u001d2\u00132\u001a|4\u001c<\u0014\u0012¦2\u001e¤2\u001b<\u0014\u00162\u0014¥4 2\u001c<\u0014\u0016¦¤2\u001b<\u0014\u001a2\u0014¥4!2\u001c<\u0014\u001a¦¤2\u001b<\u0014\u001e2\u0014¥4\"2\u001c<\u0014\u001e¦¤3\u001e2\u001d2\u001d¦2\u001f¤2 2 ¦¤2!2!¦¤2\"2\"¦¤3\u001f2\u001aS\"|3\u001a2\u0019T\u00164\u00192\u0016e\u001f\u0012\u001d2\u0018TT\u0016\u001d4\u00162\u0017k\u001f\u00122\u00172\u0016T\u0013b\u00162\u0016\u00172\u00122\u0016¹S\u00144\u001a|<\u0014\u00122\u0014¥4\u001d2\u00132\u001a|<\u0014\u0012¦2\u001e¤3\u001e2\u001d2\u001d¦2\u001f¤3\u001f2\u0016T\u0013\u001d3\u00182\u0017T\u00132\u0016c\u001f\u00122\u00172\u00183\u00192\u00122\u0018¹S\u00144\u0012|3\u001a2\u00122\u0013|3\u0012\u0015R2\u001a<\u0014\u00162\u0014¥4\u001d2\u001d¦2\u001a<\u0014\u00122\u0014¥4 2 ¦2\u001f¤¤3\u001f2\u001d2\u0012<\u0014\u0016¦2 2\u0012<\u0014\u0012¦2\u001e¤¤3\u001e2\u001aS\u001a|3\u001a2\u0012S\u001a|3\u00122\u0019T\u00144\u0019T\u0012d\u001f\u0012\u001d\u001d2\u001e2\u0017ÆU\u0012\u0012Ñ¤4\u0014§Í2\u001f2\u0014§Í±2\u0015Í´µÈ\u001dµ\u001e\u0016\u0018\u0016\u0019\u0014\u0014RT\u000e\u0011\u0011\u0011!3!V\u0012\u0012\u0012\u0012\u0012\u0012\u0002Q3+V\u0012\u0012\u0012\u0012\u0012\u0012\u0012\u00123,\u001d\u0014R2\u00122\u0013¿2\u0014\"\u00122\u00152\u0016¿2\u0017\"\u0012S\u00123\u00162\u001bS\u0012H\u0014\u00122\u001aS\u0012H\u0014\u00122\u0018¿3 \u00142\u0018W\u0016RT3\u001eT\u0012\u001e\u0013\u001d2 T\u00153\u001c2\u0018S\u0016a\u0016R2\u00123\u00142 2!4\u001d3\u001e\u0015R2&2\u0014<\u0014\u0012Í²2\u0014<\u0014\u0016Í²2\u0014<\u0014\u001aÍ²2\u0014<\u0014\u001eÍ²3&2\u0014S\"|3\u00142\u001eT\u00164\u001eT\u0012d\u001f\u0012\u001d\u001d2\u001cb4\u0017W\u0016R2\u001d¹S\u00142\u0012|3\u00142\u001c3\u001e\u0015R2&2\u0014<\u0014\u0012Í²3&2\u0014S\u0016|3\u00142\u001eT\u00134\u001eT\u0012d\u001f\u0012\u001d\u001d\u0014R2\u0018S\u0016[\u0016RT\u00123\u001d\u001e\u0013\u001d2\u00153\u00142 2!4\u001d3\u001e\u0015R2'2\u0014<\u0014\u0012Í²2\u0014<\u0014\u0016Í²2\u0014<\u0014\u001aÍ²2\u0014<\u0014\u001eÍ²3'2\u0014S\"|3\u00142\u001eT\u00164\u001eT\u0012d\u001f\u0012\u001d\u001d2\u0017W\u0016R2\u001d¹S\u00142\u0015|3\u0014\u0015R2'2\u0014<\u0014\u0012Í²3'2\u0014S\u0016|3\u00142\u001cT\u00134\u001cT\u0012d\u001f\u0012\u001d\u001d2 T\u00163\u001e2\u0018Å3%T\u00122\u0018S\u0017[\u001f\u0012,2'È2%§3\"T\u00123\u001c2\u00153\u0014\u0015R2\u0014<\u0014\u00122\"¥4$2$¦2#¤2\u0014<\u0014\u00162\"¥4#2#¦¤2\u0014<\u0014\u001a2\"¥4#2#¦¤2\u0014<\u0014\u001e2\"¥4#2#¦¤3#2\u0014S\"|3\u00142\u001cT\u00164\u001c2\u001ee\u001f\u0012\u001dS\u00133\u00162 T\u0017TT\u0016\u001d3\u001d2'2\u0018Ê4'µÈ3\"\u0014R2\u001d2 k\u001f\u00122 2\u001dT\u00154\u001fb\u00162\u001d\u00172\u001d¹S\u00142\u0015|3\u00142\u001f3\u001c\u0015R2\u0014<\u0014\u00122\"¥4$2$¦2#¤3#2\u0014S\u0016|3\u00142\u001cT\u00134\u001cT\u0012d\u001f\u0012\u001d2\u001d2\u001f\u001d3\u001c2\u001d2 Th\u001f\u00122 2\u001c3\u001c2\u00182\u001d¹4\u0014}S\u00152\u0014|S\u00142\u0015|3\u0014\u0015R2\u0014<\u0014\u001e2\"¥4$2$¦2\u0014<\u0014\u001a2\"¥4$2$¦2\u0014<\u0014\u00162\"¥4$2$¦2\u0014<\u0014\u00122\"¥4$2$¦2#¤¤¤¤3#2\u0014S\"|3\u00142\u001cT\u00164\u001cT\u0012d\u001f\u0012\u001d\u001d2%U\u0012\u0012Ñ¤3%T\u00123\u001c2\u0016\u0016R2\u00153\u0014\u0015R2\u00142\u0014<\u0014\u00122\"¥J\u0014\u00122\u00142\u0014<\u0014\u00162\"¥J\u0014\u00162\u00142\u0014<\u0014\u001a2\"¥J\u0014\u001a2\u00142\u0014<\u0014\u001e2\"¥J\u0014\u001e2\u0014S\"|3\u00142\u001cT\u00164\u001c2\u001ee\u001f\u0012\u001d\u001d2#2%§3#\u0014R2\u001c2 k\u001f\u00122\u001c3\u001d2 2\u001cT\u00154\u001ebW\u0016R2\u001c2\u001e3\u001d2\u001c¹S\u00142\u0015|3\u0014\u0015R2\u00142\u0014<\u0014\u00122\"¥J\u0014\u00122\u0014S\u0016|3\u00142\u001eT\u00134\u001eT\u0012d\u001f\u0012\u001d\u001d2\u001c2 Th\u001f\u00122 2\u001d3\u001c2\u001d¹S\u00142\u0015|3\u0014\u0015R2\u00142\u0014<\u0014\u00122\"¥J\u0014\u00122\u00142\u0014<\u0014\u00162\"¥J\u0014\u00162\u00142\u0014<\u0014\u001a2\"¥J\u0014\u001a2\u00142\u0014<\u0014\u001e2\"¥J\u0014\u001e2\u0014S\"|3\u00142\u001cT\u00164\u001cT\u0012d\u001f\u0012\u001d\u001d2\u00132\u0018}3-2#£3\"S\u00123\u00172\u00132\u0018Y\u0016R2-¿3\u001d2\u0018S\u00143\u00132\u0019S\u00143.2+2'µ3(2\u0019¿3\u001eT\u00123\u001cS\u00123\u00162\u00123\u0014\u0015R2&2\u0014<\u0014\u0012Í³3)2\u00132\u0014|<\u0014\u0012Í3*2\u001a<\u0014\u00123#2\u00142\u00152&2(´È2\"2 \"\u00134%2#qW\u00162\u001b2\u0016H\u0014\u00122\u001a2%J\u0014\u00122\u0016\u00172\u0017\u001d3\u00172)2*²3&2\u00142.|3\u00142\u00162\u0019|3\u00162\u001c2\u001e4\u001c2\u001df\u001f\u0012\u001d\u001d\u0014R2\u0019S\u0013_\u001f\u00122\u00172\u00192\u0019~4\u0013|4\u00142-2\u00142-[-3\u00192\u00172\u0013}3\u0016\u0014R2\u0018W\u0016R2,3&\u001e\u0013\u001d2 T\u00153\u001c\u0014R2\u0018S\u0016[\u0016R2,3&T\u00123\u001d\u001e\u0013\u001d2\u0016S\u00142\u0012|3\u00142,3&2 2!4\u001d3\u001e\u0015R2&2\u0014<\u0014\u0012Í²2\u0014<\u0014\u0016Í²2\u0014<\u0014\u001aÍ²2\u0014<\u0014\u001eÍ²3&2\u0014S\"|3\u00142\u001eT\u00164\u001eT\u0012d\u001f\u0012\u001d\u001d2\u001cb\u001f\u00122\u0017S\u00142\u001d¹S\u0014|2\u0013S\u0014}2\u0012|3\u0014\u0015R2&2\u0014<\u0014\u0012Í²3&2\u0014S\u0016|3\u00142\u001cT\u00134\u001cT\u0012d\u001f\u0012\u001d\u001d2\u00162\u0019a\u001f\u00122\u0017S\u00142\u0013S\u0014}2\u0012|3\u00142\u0018S\u00143\u00122\u0019¿2\u0016¿3\u001c2+2'µ3'\u0015R2&2\u0014<\u0014\u0012Í³3(2\u00122\u0014|<\u0014\u0012Í3)2\u001a<\u0014\u00123#2\u00142\u00152&2'´È2\"2 \"\u00134%2#qW\u0016R2\u001b2\u0016H\u0014\u00122\u001a2%J\u0014\u0012\u001d2(2)²3&2\u0014S\u0016|3\u00142\u0016S\u0013|3\u00162\u001cT\u00134\u001cT\u0012d\u001f\u0012\u001d\u001d\u001d\u001d`;\nconst sharedWasm = String.raw`dynEncode01643fb3d24fdÅ×ÑedddereÄnããããããããããdfvegÉÒÚjÑÉÑÓÖÝfgfäähgfedjleãd¥äìhokfmÇÓÖÖÉÐÅØÉddoÃÃÌÉÅÔÃÆÅ×Égdn&e#inãoâlálàkßf¤¦bcccs¨ddddddT£¨ddddddddof¤f¤f¥f¬qdf¥eÏre\u0011e¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz\u000b¥fØy\u000b¥fØ¥¤ÕÏdÎue¥fØvr\u0011|d¥¤Ïsqg¤soqndf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdsu\u000bvÐfÎ­ufsÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz\u000b¥fØoÎndfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooqvÎqvwÎw¦eà|¶qdopeoe©qddde¥fØqÎ­hãdef¥fØ¥hÏÐdÎ­i¥doe¥h­Ös¦eá¦eç~d¥Îod¥Înd¥tÎp¦çxr\u0011}g¤ây¦dzf¤s©h¤ddadfddy\u000b¥fØfÎadfdaHeaofdf¤x¦hµqdppadfdfpÎadfdaHeaofdx¦lµqdnnadfdfnÎadfdaHeaofdx¦pµqdooadfdfoÎadfdaHeaofdoxzµqeo~´hâziz\u000b¥fØdÎfffdyzà\u000b¥fØdÎfdöfdz¦eèoyzµqdyázwy\u000b¥fØvÎudfg¤fvÎrrfdfuÎtfdöfdrrfhtfhöfhf¥lÎfz¦fáz¦d¶qdooqwÎw¦eà}¶qdoof¤i¥f¬qdi¥eÏfh\u0011h¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz\u000b¥fØy\u000b¥fØ¥¤ÕÏgÎsh¥fØif\u0011|¥dwg¥¤Ïhq¦dg¤hoqngf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdhs\u000biÐfÎ­sfhÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz\u000b¥fØoÎngfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooiqÎqiwÎw¦eà|¶qdopeoh©qdggh¥fØpÎ­hãghi¥fØ¥hÏÐgÎ­i¥doh¥h­Ör¦eá¦eç~g¥Îhg¥Îig¥tÎo¦çxf\u0011}¥dw¦dg¤ây¦dzf¤r©h¤ggadfdgy\u000b¥fØfÎadfdaHeaofdf¤x¦hµqdooadfdfoÎadfdaHeaofdx¦lµqdiiadfdfiÎadfdaHeaofdx¦pµqdhhadfdfhÎadfdaHeaofdoxzµqeo~´hâziz\u000b¥fØgÎfffdyzà\u000b¥fØgÎfdöfdz¦eèoyzµqdyázwy\u000b¥fØqÎsgfg¤fqÎnnfdfsÎvfdöfdnnfhvfhöfhf¥lÎfz¦fáz¦d¶qdoopwÎw¦eà}¶qdoo¥drm¥dfdl¥dfdj\u0011xfâj©h¤¦Ô¦dpeo¦df¤j¥e«h¤dfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz\u000b¥fØdÎfg¤ffd\u001f\u0004f¥hÎfz¦eáz¦d¶qdoo¦df¤j¥e«h¤apddddddddddddddddgfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz\u000b¥fØgÎfg¤ffd\u001f\u0004f¥hÎfz¦eáz¦d¶qdoox¦táj\u001c\u0007\u001a¦dj¥u­qd~aw¦dzgfg¤fadddaIeaJeaHefaddtaIeaJeaHefaddaIeaJeaHefaddaIeaJeaHef¥¤Ïfz¦tàz·qdo¥erx¦uá¦Ôç¦tàoyadaeöaföagöf¤xy»qdxxyá¦h¾hâapddddddddddddddddady\u000b¥fØgÎfaw¦àçzg¤fadfdaIeaJeaHef¥tÎfz¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadµqeyàiyoyázy\u000b¥fØgÎfg¤ffd÷øöf¥hÎfz¦eáz¦d¶qdooj\u001c\u0007\u001aj\u0017§ddä#ö¦dzrh¤awgfg¤ffadddaIeaoddffaddtaIeaodtffaddaIeaodffaddaIeaodf¥¤Ïfz¦tàz·qdooùf¤xz»qdxxzá¦gºhâz\u000b¥fØgÎfaw¦àçyg¤ffadfdaIeaofdf¥tÎfy¦háy¦d¶qdoµqezàizozáyz\u000b¥fØgÎfg¤fffd÷fdf¥hÎfy¦eáy¦d¶qdooejÏhõej«h¤h\u0011|k¥fØo\u0007§ddä£ùx¦uá¦Ôç¦tàlfdk\u0011{\u001fdn¦dg¤\u0006\u001afâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dz¥dfapddddddddddddddddapddddddddddddddddg¤fnÎeadddaIefgÎiadddaJeaHeeaddtaIeiaddtaJeaHeeaddaIeiaddaJeaHeeaddaIeiaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfz¦tàz·qdooy\u000be¥fØdÎifd\u001fadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady\u000b¥fØfaw~¦àç}zg¤fnÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy\u000b¥fØfg¤fnÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØiÎfd\u001f\u0005ø\u001fø\u001f\u0003\u0006\u0007\u001aÄ©hámefdlfdio\u0004noÎn{à|¸qdoof¤k¥e±qdmfdekkÐiÎfhfh­keiÏhf¤j©h¤peo¦dyj¥e«h¤h¥fØdÎfapddddddddddddddddxçyzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxyµqeoe¥fØy\u000b¥fØÎi¥fØÏdÎfxyázg¤ffd\u001f\u0004f¥hÎfz¦eáz¦d¶qdoohk³qdk\u0011|h\u0011e¥fØi¥fØÏdÎo\u0007§ddä£ùx¦uá¦Ôç¦tàlfd\u001fg¤\u0006\u001afâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dzofgpapddddddddddddddddapddddddddddddddddg¤fadddaIepadddaJeaHefaddtaIepaddtaJeaHefaddaIepaddaJeaHefaddaIepaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfp¥¤Ïpz¦tàz·qdooy\u000be¥fØdÎhfd\u001fadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady\u000b¥fØfaw~¦àç}zg¤foÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy\u000b¥fØfg¤foÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØhÎfd\u001f\u0005ø\u001fø\u001f\u0003\u0006\u0007\u001aÄ©hámefdlfdio\u0004o¥hÎo¦eà|¶qdoooo`;\nconst simdHeapBase = 66560;\nconst scalarHeapBase = 66560;\nconst sharedHeapBase = 66560;\n// END generated variables\n\nexport default class SynAudio {\n  constructor(options = {}) {\n    this._correlationSampleSize =\n      options.correlationSampleSize > 0 ? options.correlationSampleSize : 11025;\n    this._initialGranularity =\n      options.initialGranularity > 0 ? options.initialGranularity : 16;\n    this._correlationThreshold =\n      options.correlationThreshold >= 0 ? options.correlationThreshold : 0.5;\n    this._useSharedMemory = options.shared === true ? true : false;\n\n    this._module = wasmModule.get(SynAudio);\n    this._heapBase = wasmHeapBase.get(SynAudio);\n    if (!this._module) {\n      if (this._useSharedMemory) {\n        this._module = WebAssembly.compile(decode(sharedWasm));\n        this._heapBase = Promise.resolve(sharedHeapBase);\n      } else {\n        this._module = simd().then((simdSupported) =>\n          simdSupported\n            ? WebAssembly.compile(decode(simdWasm))\n            : WebAssembly.compile(decode(scalarWasm)),\n        );\n        this._heapBase = simd().then((simdSupported) =>\n          simdSupported ? simdHeapBase : scalarHeapBase,\n        );\n      }\n      wasmModule.set(this._module);\n      wasmHeapBase.set(this._heapBase);\n    }\n\n    this.SynAudioWorker = function SynAudioWorker(\n      module,\n      heapBase,\n      useSharedMemory,\n      correlationSampleSize,\n      initialGranularity,\n    ) {\n      this._sourceCache = new Map();\n\n      // correlation sample size must not exceed the size of each audio clip\n      this._getCorrelationSampleSize = (a, b) =>\n        Math.min(\n          a.samplesDecoded,\n          b.samplesDecoded,\n          this._correlationSampleSize,\n        );\n\n      // initial granularity must not exceed the size of each audio clip\n      this._getInitialGranularity = (a, b) =>\n        Math.min(a.samplesDecoded, b.samplesDecoded, this._initialGranularity);\n\n      this._setAudioDataOnHeap = (input, memory, heapPos) => {\n        const output = new Float32Array(memory.buffer);\n        let floatPos = heapPos / this._floatByteLength;\n\n        // copy each channel\n        for (let i = 0; i < input.length; i++) {\n          heapPos += input[i].length * this._floatByteLength;\n          output.set(input[i], floatPos);\n          floatPos += input[i].length;\n        }\n\n        return heapPos;\n      };\n\n      /*\n       * Memory Map (starting at heapBase)\n       * float* varyingLength baseData\n       *\n       * for each comparisonData entry:\n       * float* varyingLength comparisonData\n       * float* 4 bytes       bestCorrelation\n       * long*  4 bytes       bestSampleOffset\n       */\n      this._initWasmMemory = (a, bArray, heapBase) => {\n        const aLen =\n          a.samplesDecoded * a.channelData.length * this._floatByteLength;\n        const bArrayLen = bArray.reduce(\n          (acc, b) =>\n            b.data.samplesDecoded *\n              b.data.channelData.length *\n              this._floatByteLength +\n            acc,\n          0,\n        );\n        const bestCorrelationLen = bArray.length * this._floatByteLength;\n        const bestSampleOffsetLen = bArray.length * this._unsignedIntByteLength;\n\n        const memoryPages =\n          4 +\n          (heapBase +\n            aLen +\n            bArrayLen +\n            bestCorrelationLen +\n            bestSampleOffsetLen) /\n            this._pageSize;\n\n        return new WebAssembly.Memory({\n          initial: memoryPages,\n          maximum: memoryPages,\n          shared: this._useSharedMemory,\n        });\n      };\n\n      this._setBaseAudioOnHeap = (a, memory, aPtr) => {\n        const nextPtr = this._setAudioDataOnHeap(a.channelData, memory, aPtr);\n        return [aPtr, nextPtr];\n      };\n\n      this._setComparisonAudioOnHeap = (b, memory, bPtr) => {\n        const bestCorrelationPtr = this._setAudioDataOnHeap(\n          b.channelData,\n          memory,\n          bPtr,\n        );\n        const bestSampleOffsetPtr = bestCorrelationPtr + this._floatByteLength;\n        const nextPtr = bestSampleOffsetPtr + this._floatByteLength;\n        return [bPtr, bestCorrelationPtr, bestSampleOffsetPtr, nextPtr];\n      };\n\n      this._executeAsWorker = (functionName, params) => {\n        let source = this._sourceCache.get(functionName);\n\n        if (!source) {\n          let type = \"text/javascript\",\n            isNode,\n            webworkerSourceCode =\n              \"'use strict';\" +\n              `(${((\n                SynAudioWorker,\n                functionName,\n                useSharedMemory,\n                correlationSampleSize,\n                initialGranularity,\n              ) => {\n                self.onmessage = (msg) => {\n                  const worker = new SynAudioWorker(\n                    Promise.resolve(msg.data.module),\n                    Promise.resolve(msg.data.heapBase),\n                    useSharedMemory,\n                    correlationSampleSize,\n                    initialGranularity,\n                  );\n\n                  worker._workerMethods\n                    .get(functionName)\n                    .apply(null, msg.data.params)\n                    .then((results) => {\n                      self.postMessage(results);\n                    });\n                };\n              }).toString()})(${SynAudioWorker.toString()}, \"${functionName}\", ${this._useSharedMemory}, ${\n                this._correlationSampleSize\n              }, ${this._initialGranularity})`;\n\n          try {\n            isNode = typeof process.versions.node !== \"undefined\";\n          } catch {}\n\n          source = isNode\n            ? `data:${type};base64,${Buffer.from(webworkerSourceCode).toString(\n                \"base64\",\n              )}`\n            : URL.createObjectURL(new Blob([webworkerSourceCode], { type }));\n\n          this._sourceCache.set(functionName, source);\n        }\n\n        const worker = new (globalThis.Worker || Worker)(source, {\n          name: \"SynAudio\",\n        });\n\n        const result = new Promise((resolve) => {\n          worker.onmessage = (message) => {\n            worker.terminate();\n            resolve(message.data);\n          };\n        });\n\n        Promise.all([this._module, this._heapBase]).then(\n          ([module, heapBase]) => {\n            worker.postMessage({\n              module,\n              heapBase,\n              params,\n            });\n          },\n        );\n\n        return result;\n      };\n\n      this._runCorrelate = (\n        memory,\n        aPtr,\n        aSamplesDecoded,\n        aChannelDataLength,\n        bPtr,\n        bSamplesDecoded,\n        bChannelDataLength,\n        correlationSampleSize,\n        initialGranularity,\n        bestCorrelationPtr,\n        bestSampleOffsetPtr,\n      ) => {\n        return this._module\n          .then((module) =>\n            WebAssembly.instantiate(module, {\n              env: { memory },\n            }),\n          )\n          .then(({ exports }) => {\n            const instanceExports = new Map(Object.entries(exports));\n\n            const correlate = instanceExports.get(\"correlate\");\n            const heapView = new DataView(memory.buffer);\n\n            correlate(\n              aPtr,\n              aSamplesDecoded,\n              aChannelDataLength,\n              bPtr,\n              bSamplesDecoded,\n              bChannelDataLength,\n              correlationSampleSize,\n              initialGranularity,\n              bestCorrelationPtr,\n              bestSampleOffsetPtr,\n            );\n\n            const bestCorrelation = heapView.getFloat32(\n              bestCorrelationPtr,\n              true,\n            );\n            const bestSampleOffset = heapView.getUint32(\n              bestSampleOffsetPtr,\n              true,\n            );\n\n            return {\n              correlation: bestCorrelation,\n              sampleOffset: bestSampleOffset,\n            };\n          });\n      };\n\n      this._sync = (a, b) => {\n        return this._heapBase.then((heapBase) => {\n          const memory = this._initWasmMemory(a, [{ data: b }], heapBase);\n\n          let aPtr, bPtr, bestCorrelationPtr, bestSampleOffsetPtr, heapPosition;\n          [aPtr, heapPosition] = this._setBaseAudioOnHeap(a, memory, heapBase);\n          [bPtr, bestCorrelationPtr, bestSampleOffsetPtr, heapPosition] =\n            this._setComparisonAudioOnHeap(b, memory, heapPosition);\n\n          const correlationSampleSize = this._getCorrelationSampleSize(a, b);\n          const initialGranularity = this._getInitialGranularity(a, b);\n\n          return this._runCorrelate(\n            memory,\n            aPtr,\n            a.samplesDecoded,\n            a.channelData.length,\n            bPtr,\n            b.samplesDecoded,\n            b.channelData.length,\n            correlationSampleSize,\n            initialGranularity,\n            bestCorrelationPtr,\n            bestSampleOffsetPtr,\n          );\n        });\n      };\n\n      this._syncOneToMany = (\n        a,\n        bArray,\n        threads = 1,\n        onProgressUpdate = () => {},\n      ) => {\n        return this._heapBase.then((heapBase) => {\n          const memory = this._initWasmMemory(a, bArray, heapBase);\n\n          // build the parameters, copy the data to the heap\n          let aPtr, bPtr, bestCorrelationPtr, bestSampleOffsetPtr, heapPosition;\n          [aPtr, heapPosition] = this._setBaseAudioOnHeap(a, memory, heapBase);\n\n          const syncParameters = bArray.map((b) => {\n            [bPtr, bestCorrelationPtr, bestSampleOffsetPtr, heapPosition] =\n              this._setComparisonAudioOnHeap(b.data, memory, heapPosition);\n\n            const correlationSampleSize = this._getCorrelationSampleSize(\n              a,\n              b.data,\n            );\n            const initialGranularity = this._getInitialGranularity(a, b.data);\n\n            // optionally set boundaries for the base data\n            let syncStart = b.syncStart || 0;\n            let syncEnd = b.syncEnd || a.samplesDecoded;\n            if (syncEnd - syncStart < b.data.samplesDecoded) {\n              syncStart = 0;\n              syncEnd = a.samplesDecoded;\n            }\n\n            const baseOffset = Math.min(\n              a.samplesDecoded,\n              Math.max(0, syncStart),\n            );\n            const baseSampleLength = Math.min(\n              a.samplesDecoded,\n              Math.max(0, syncEnd),\n            );\n\n            const params = [\n              memory,\n              aPtr + baseOffset * a.channelData.length * this._floatByteLength,\n              baseSampleLength - baseOffset,\n              a.channelData.length,\n              bPtr,\n              b.data.samplesDecoded,\n              b.data.channelData.length,\n              correlationSampleSize,\n              initialGranularity,\n              bestCorrelationPtr,\n              bestSampleOffsetPtr,\n            ];\n            return [params, baseOffset, b.name];\n          });\n\n          a = null;\n          bArray = null;\n\n          // start tasks concurrently, limiting the number of threads\n          let taskIndex = 0;\n          let activeCount = 0;\n          let doneCount = 0;\n          const results = new Array(syncParameters.length);\n          const running = [];\n\n          return new Promise((resolve, reject) => {\n            onProgressUpdate(0);\n            const runNext = () => {\n              // All tasks have been started\n              if (taskIndex >= syncParameters.length) {\n                if (activeCount === 0) resolve(results);\n                return;\n              }\n\n              // Start a new task\n              const currentIndex = taskIndex++;\n              activeCount++;\n\n              const promise = this._executeAsWorker(\n                \"_runCorrelate\",\n                syncParameters[currentIndex][0],\n              )\n                .then((result) => {\n                  result.sampleOffset += syncParameters[currentIndex][1];\n                  result.name = syncParameters[currentIndex][2];\n                  results[currentIndex] = result;\n                })\n                .catch(reject)\n                .finally(() => {\n                  activeCount--;\n                  doneCount++;\n                  onProgressUpdate(doneCount / results.length);\n                  runNext(); // Start the next task\n                });\n\n              running.push(promise);\n\n              // If we haven't reached the limit, start another one\n              if (activeCount < threads) runNext();\n            };\n\n            runNext();\n          });\n        });\n      };\n\n      this._syncWorkerConcurrent = (a, b, threads) => {\n        const promises = [];\n        const lengths = [0];\n\n        // |-----------|       |-----------|     \"end\"\n        // \"start\"   |-|---------|       |-----------|\n        //           | |\n        //           | |correlationSampleSize\n\n        // split a buffer into equal chunks for threads\n        // overlap at the start of the buffer by correlation sample size\n        // overlap at the end of the buffer by correlation sample size\n\n        // initial granularity  low -> high, more -> less threads\n        // correlation sample   low -> high, less -> more threads\n        // file size            low -> high, less -> more threads\n\n        const correlationSampleSize = this._getCorrelationSampleSize(a, b);\n\n        // rough estimate for a good max thread count for performance\n        const maxThreads =\n          (Math.log(a.samplesDecoded * correlationSampleSize) /\n            Math.log(this._initialGranularity + 1)) *\n          Math.log(correlationSampleSize / 10000 + 1);\n\n        threads = Math.max(\n          Math.round(\n            Math.min(\n              threads,\n              maxThreads,\n              a.samplesDecoded / correlationSampleSize / 4,\n            ),\n          ),\n          1,\n        );\n\n        const aLength = Math.ceil(a.samplesDecoded / threads);\n\n        let offset = 0;\n        for (let t = 0; t < threads; t++) {\n          const aSplit = {\n            channelData: [],\n          };\n\n          for (let i = 0; i < a.channelData.length; i++) {\n            const cutChannel = a.channelData[i].subarray(\n              offset,\n              offset + aLength + correlationSampleSize,\n            );\n            aSplit.channelData.push(cutChannel);\n            aSplit.samplesDecoded = cutChannel.length;\n          }\n\n          offset += aLength - correlationSampleSize;\n          lengths.push(offset);\n\n          promises.push(this._syncWorker(aSplit, b));\n        }\n\n        return Promise.all(promises).then((results) => {\n          // find the result with the highest correlation and calculate the offset relative to the input data\n          let bestResultIdx = 0;\n          let bestCorrelation = -1;\n          for (let i = 0; i < results.length; i++)\n            if (results[i].correlation > bestCorrelation) {\n              bestResultIdx = i;\n              bestCorrelation = results[i].correlation;\n            }\n\n          return {\n            correlation: results[bestResultIdx].correlation,\n            sampleOffset:\n              results[bestResultIdx].sampleOffset + lengths[bestResultIdx],\n          };\n        });\n      };\n\n      this._syncWorker = (a, b) => {\n        return this._executeAsWorker(\"_sync\", [a, b]);\n      };\n\n      this._syncWorkerConcurrentMain = (a, b, threads) => {\n        // can't serialize the webworker polyfill in nodejs\n        return globalThis.Worker\n          ? this._executeAsWorker(\"_syncWorkerConcurrent\", [a, b, threads])\n          : this._syncWorkerConcurrent(a, b, threads);\n      };\n\n      // constructor\n\n      // needed to serialize minified code when methods are referenced as a string\n      // prettier-ignore\n      this._workerMethods = new Map([\n        [\"_sync\", this._sync],\n        [\"_runCorrelate\", this._runCorrelate],\n        [\"_syncOneToMany\", this._syncOneToMany],\n        [\"_syncWorker\", this._syncWorker],\n        [\"_syncWorkerConcurrent\", this._syncWorkerConcurrent],\n      ]);\n\n      this._module = module;\n      this._heapBase = heapBase;\n      this._useSharedMemory = useSharedMemory;\n      this._correlationSampleSize = correlationSampleSize;\n      this._initialGranularity = initialGranularity;\n\n      this._pageSize = 64 * 1024;\n      this._floatByteLength = Float32Array.BYTES_PER_ELEMENT;\n      this._unsignedIntByteLength = Uint32Array.BYTES_PER_ELEMENT;\n    };\n\n    this._instance = new this.SynAudioWorker(\n      this._module,\n      this._heapBase,\n      this._useSharedMemory,\n      this._correlationSampleSize,\n      this._initialGranularity,\n    );\n  }\n\n  async syncWorkerConcurrent(a, b, threads) {\n    return this._instance._syncWorkerConcurrentMain(\n      a,\n      b,\n      threads >= 1 ? threads : 1,\n    );\n  }\n\n  async syncWorker(a, b) {\n    return this._instance._syncWorker(a, b);\n  }\n\n  async sync(a, b) {\n    return this._instance._sync(a, b);\n  }\n\n  async syncOneToMany(a, bArray, threads, onProgressUpdate) {\n    const result = this._instance._syncOneToMany(\n      a,\n      bArray,\n      threads,\n      onProgressUpdate,\n    );\n    a = null;\n    bArray = null;\n    return result;\n  }\n\n  async syncMultiple(clips, threads) {\n    threads = threads >= 1 ? threads : 8;\n\n    const workers = [];\n    const graph = [];\n\n    let notify = () => {},\n      wait = Promise.resolve(),\n      runningThreads = 0;\n\n    const resetNotify = () => {\n      wait = new Promise((resolve) => {\n        notify = resolve;\n      });\n    };\n\n    for (let i = 0; i < clips.length; i++) graph.push({ vertex: {} });\n\n    for (let v = 0; v < clips.length; v++) {\n      const vertexClip = clips[v];\n      const vertex = graph[v].vertex;\n\n      vertex.name = vertexClip.name;\n      vertex.samplesDecoded = vertexClip.data.samplesDecoded;\n      vertex.edges = new Set();\n\n      for (let e = 0; e < clips.length; e++) {\n        if (v === e) continue;\n\n        const edgeClip = clips[e];\n        const edge = graph[e];\n\n        runningThreads++;\n        workers.push(\n          this.syncWorker(vertexClip.data, edgeClip.data).then(\n            (correlationResult) => {\n              if (correlationResult.correlation > this._correlationThreshold) {\n                vertex.edges.add({\n                  parent: vertex,\n                  vertex: edge.vertex,\n                  samplesDecoded: edgeClip.data.samplesDecoded,\n                  ...correlationResult,\n                });\n              }\n              runningThreads--;\n              notify();\n            },\n          ),\n        );\n\n        if (runningThreads >= threads) {\n          resetNotify();\n          await wait;\n        }\n      }\n    }\n\n    await Promise.all(workers);\n\n    // prettier-ignore\n    const weighResults = (a, b) => {\n      if (a.parent && b.parent && a.parent.samplesDecoded !== b.parent.samplesDecoded) return a.parent.samplesDecoded > b.parent.samplesDecoded;\n      if (a.correlation !== b.correlation) return a.correlation > b.correlation;\n      if (a.sampleOffset !== b.sampleOffset) return a.sampleOffset > b.sampleOffset;\n      return a.vertex && b.vertex && a.vertex.name.localeCompare(b.vertex.name) < 0;\n    };\n\n    // detect cycles and weigh for which edge to remove\n    const path = new Map();\n    const cycles = new Set();\n\n    const detectCycle = (vertex) => {\n      for (const edge of vertex.edges.values()) {\n        if (path.has(vertex)) return path.get(vertex);\n\n        path.set(vertex, edge);\n\n        const cycleStartEdge = detectCycle(edge.vertex);\n        const cycleEndEdge = edge;\n\n        if (cycleStartEdge) {\n          let keep, remove;\n          if (weighResults(cycleStartEdge, cycleEndEdge)) {\n            keep = cycleStartEdge;\n            remove = cycleEndEdge;\n          } else {\n            keep = cycleEndEdge;\n            remove = cycleStartEdge;\n          }\n\n          if (!remove.cycleWith) {\n            remove.cycleWith = new Set();\n            cycles.add(remove);\n          }\n\n          remove.cycleWith.add(keep);\n\n          if (keep.cycleWith) {\n            keep.cycleWith.delete(remove);\n          }\n        }\n\n        path.delete(vertex);\n      }\n    };\n\n    for (const { vertex } of graph) detectCycle(vertex);\n\n    // delete any cycles\n    for (const edge of cycles)\n      if (edge.cycleWith.size) edge.parent.edges.delete(edge);\n\n    // find the root elements\n    const roots = new Set();\n    for (const v of graph) roots.add(v.vertex);\n    for (const v of graph)\n      for (const edge of v.vertex.edges) roots.delete(edge.vertex);\n\n    // build a unique sequence of matches for each root\n    const traverseRoot = (path, root, edges, sampleOffsetFromRoot = 0) => {\n      for (const edge of edges) {\n        if (\n          !(path.has(edge.vertex) && weighResults(path.get(edge.vertex), edge))\n        )\n          path.set(edge.vertex, {\n            name: edge.vertex.name,\n            correlation: edge.correlation,\n            sampleOffset: sampleOffsetFromRoot + edge.sampleOffset,\n          });\n\n        traverseRoot(\n          path,\n          root,\n          edge.vertex.edges,\n          sampleOffsetFromRoot + edge.sampleOffset,\n        );\n      }\n    };\n\n    const results = [];\n\n    for (const root of roots) {\n      const path = new Map();\n      path.set(root, {\n        name: root.name,\n        sampleOffset: 0,\n      });\n      traverseRoot(path, root, root.edges);\n\n      results.push(\n        [...path.values()].sort(\n          (a, b) =>\n            a.sampleOffset - b.sampleOffset ||\n            (a.correlation || 0) - (b.correlation || 0) ||\n            b.name.localeCompare(a.name),\n        ),\n      );\n    }\n\n    return results;\n  }\n}\n","import SynAudio from \"./src/SynAudio.js\";\n\nexport default SynAudio;\n"],"names":["t","n","arguments","length","undefined","e","r","Int32Array","o","s","i","c","Uint8Array","map","parseInt","substring","Map","forEach","set","a","l","f","g","h","p","u","DataView","buffer","getInt32","d","charCodeAt","get","m","subarray","console","error","Error","module","exports","Worker","_taggedTemplateLiteral","slice","Object","freeze","defineProperties","raw","value","simd","async","WebAssembly","validate","wasmModule","WeakMap","wasmHeapBase","simdWasm","String","_templateObject","scalarWasm","_templateObject2","sharedWasm","_templateObject3","SynAudio","constructor","options","this","_correlationSampleSize","correlationSampleSize","_initialGranularity","initialGranularity","_correlationThreshold","correlationThreshold","_useSharedMemory","shared","_module","_heapBase","compile","decode","Promise","resolve","then","simdSupported","SynAudioWorker","heapBase","useSharedMemory","_this","_sourceCache","_getCorrelationSampleSize","b","Math","min","samplesDecoded","_getInitialGranularity","_setAudioDataOnHeap","input","memory","heapPos","output","Float32Array","floatPos","_floatByteLength","_initWasmMemory","bArray","memoryPages","channelData","reduce","acc","data","_unsignedIntByteLength","_pageSize","Memory","initial","maximum","_setBaseAudioOnHeap","aPtr","_setComparisonAudioOnHeap","bPtr","bestCorrelationPtr","bestSampleOffsetPtr","_executeAsWorker","functionName","params","source","isNode","type","webworkerSourceCode","concat","self","onmessage","msg","_workerMethods","apply","results","postMessage","toString","process","versions","node","_unused","Buffer","from","URL","createObjectURL","Blob","worker","globalThis","name","result","message","terminate","all","_ref","_runCorrelate","aSamplesDecoded","aChannelDataLength","bSamplesDecoded","bChannelDataLength","instantiate","env","_ref2","correlate","entries","heapView","correlation","getFloat32","sampleOffset","getUint32","_sync","heapPosition","_syncOneToMany","threads","onProgressUpdate","syncParameters","syncStart","syncEnd","baseOffset","max","baseSampleLength","taskIndex","activeCount","doneCount","Array","running","reject","runNext","currentIndex","promise","catch","finally","push","_syncWorkerConcurrent","promises","lengths","maxThreads","log","round","aLength","ceil","offset","aSplit","cutChannel","_syncWorker","bestResultIdx","bestCorrelation","_syncWorkerConcurrentMain","BYTES_PER_ELEMENT","Uint32Array","_instance","syncWorkerConcurrent","syncWorker","sync","syncOneToMany","syncMultiple","clips","workers","graph","notify","wait","runningThreads","resetNotify","vertex","v","vertexClip","edges","Set","edgeClip","edge","correlationResult","add","_objectSpread","parent","weighResults","localeCompare","path","cycles","detectCycle","values","has","cycleStartEdge","cycleEndEdge","keep","remove","cycleWith","delete","size","roots","traverseRoot","root","sampleOffsetFromRoot","sort"],"sourceRoot":""}