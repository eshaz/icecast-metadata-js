
/*! 
 * Copyright 2021-2023 Ethan Halsall
 * https://github.com/eshaz/icecast-metadata-js
 *
 * This file is part of icecast-metadata-player.
 *
 * icecast-metadata-player free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * icecast-metadata-player distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>
 */
(self.webpackChunkIcecastMetadataPlayer=self.webpackChunkIcecastMetadataPlayer||[]).push([[496],{26:e=>{e.exports=Worker},420:(e,g,f)=>{"use strict";f.r(g),f.d(g,{default:()=>h});const b=(e,g=4294967295,f=79764919)=>{const b=new Int32Array(256);let r,t,i,p=g;for(r=0;r<256;r++){for(i=r<<24,t=8;t>0;--t)i=2147483648&i?i<<1^f:i<<1;b[r]=i}for(r=0;r<e.length;r++)p=p<<8^b[255&(p>>24^e[r])];return p},r=(e,g=b)=>{const f=e=>new Uint8Array(e.length/2).map(((g,f)=>parseInt(e.substring(2*f,2*(f+1)),16))),r=e=>f(e)[0],t=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach(((e,g)=>t.set(e,g)));const i=new Uint8Array(e.length);let p,s,o,h=!1,q=0,n=42,O=e.length>13&&"dynEncode"===e.substring(0,9),c=0;O&&(c=11,s=r(e.substring(9,c)),s<=1&&(c+=2,n=r(e.substring(11,c))),1===s&&(c+=8,o=(e=>new DataView(f(e).buffer).getInt32(0,!0))(e.substring(13,c))));const u=256-n;for(let g=c;g<e.length;g++)if(p=e.charCodeAt(g),61!==p||h){if(92===p&&g<e.length-5&&O){const f=e.charCodeAt(g+1);117!==f&&85!==f||(p=parseInt(e.substring(g+2,g+6),16),g+=5)}if(p>255){const e=t.get(p);e&&(p=e+127)}h&&(h=!1,p-=64),i[q++]=p<n&&p>0?p+u:p-n}else h=!0;const x=i.subarray(0,q);if(O&&1===s){const e=g(x);if(e!==o){const g="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",g+"\n","Expected: "+o+"; Got: "+e+"\n","Visit https://github.com/eshaz/simple-yenc for more information"),Error(g)}}return x};var t=f(26);const i=new WeakMap,p=String.raw`dynEncode01658cce3922eÆØÒfeeefsfÅoääääääääääegtfhÊÓÛkÒÊÒÔ×Þgeghgfekmfäe¦åíiplgnÈÔ××ÊÑÆÙÊeepÄÄÍÊÆÕÄÇÆØÊheofivälànâiá©eeeeeeeeg¥g¥g¦g­reg¦fÐ|f¦v³i¥f¦uÐz¦efÐ}ef¦gÙxÏ~e¦¥Ðuth¥ffwÑvÏ{tpuo¦eqh¥eqg¦gÙÏqqbeeeegvÏ¦gÙÏbeeebIfbpeeeg¦i×q¦gÙÏrrbeeeeqvÏ¦gÙÏbeeebIfbpeeeg¦m×q¦gÙÏrrbeeeeqvÏ¦gÙÏbeeebIfbpeeeg¦q×q¦gÙÏrrbeeeeqvÏ¦gÙÏbeeebIfbpeepr¦¥Ðpos¦¥Ðog¦uÏqz­repg¥fq±reg¥fqÐo¦i®reeqvÏ¦gÙÏ~®iäeq¦gÙÏe{¦gÙÏ®j¦epreo¦áÖ{¦iÐp¦gÛ¦fÏ¦fÖg¥pªi¥¦egqfpzgÐ¦áÖ¦iÐ¦gÛ¦fÏ¦cdddlÖp¦egh¥srbegesbegebIfbpgesrbegusbegubIfbpgur¦Ïrs¦Ïsg¦mÏgp¦gÐpreppi¥egqÏg¦gÙÏpegvÏ¦gÙÏbegepbegebIfbpgepo{«rffq{ÏqÐopq¦äØgo¦fÖiäeq¦gÙÏoeqvÏ¦gÙÏgeoge÷geq¦fÏjqpqg}«refqÐpyq¦gÙoÏregh¥goÏqgrÏsgeqge÷geqsgiqgi÷gig¦mÏgp¦gÐpreppxyÏytxÏtw¦fÏw|¬repqfpf¦e±re¦efÐtf¦fÖuef¦gÙvÏwf¦i®yf¦áÖo¦q«zh¥frÑs¦egg¥g¥yreeefsÏ¦gÙÏ®wes¦gÙÏq°ÖreeqbegeebegebIfbpgeg¥o¦i«reeqbeguebegubIfbpguo¦m«reeqbegebegbIfbpgzreeqbegebegbIfbpgpfog«rfpg¦äØquiäeg¦gÙÏxegsÏ¦gÙÏgexge÷geg¦f×jgpgqt«refgÐqpg¦gÙxÏ{egh¥gxÏsg{Ï}gesge÷ges}gisgi÷gig¦mÏgq¦gÐqrepppvÏpr¦fÏr|¬reppg¥j¦g­rej¦fÐvi¦v³i¥i¦uÐ|¦ey¦eiÐ{hi¦gÙzÏ}h¦¥Ðjt¦ewh¥iiwÑuÏxtpjo¦eqh¥hqg¦gÙÏqqbeeehguÏ¦gÙÏbeeebIfbpeehg¦i×q¦gÙÏrrbeeehquÏ¦gÙÏbeeebIfbpeehg¦m×q¦gÙÏrrbeeehquÏ¦gÙÏbeeebIfbpeehg¦q×q¦gÙÏrrbeeehquÏ¦gÙÏbeeebIfbpeepr¦¥Ðpos¦¥Ðog¦uÏq|­repg¥iq±reg¥iqÐo¦i®rehquÏ¦gÙÏ}®iähq¦gÙÏhx¦gÙÏ®j¦epreo¦áÖx¦iÐp¦gÛ¦fÏ¦fÖ~g¥pªi¥¦egqfp|gÐ¦áÖ¦iÐ¦gÛ¦fÏ¦cdddlÖp¦egh¥srbegesbegebIfbpgesrbegusbegubIfbpgur¦Ïrs¦Ïsg¦mÏgp¦gÐprepp~i¥hgqÏg¦gÙÏphguÏ¦gÙÏbegepbegebIfbpgepox«rfiqxÏqÐopq¦äØgo¦fÖiähq¦gÙÏohquÏ¦gÙÏgeoge÷geq¦fÏjqpqg{«reiqÐpyq¦gÙoÏrhgh¥goÏqgrÏsgeqge÷geqsgiqgi÷gig¦mÏgp¦gÐpreppyzÏytzÏtw¦fÏwv¬repqfpi¦e±re¦ep¦eiÐsi¦fÖthi¦gÙuÏwi¦i®yi¦áÖj¦q«|¦erh¥irÑo¦egg¥g¥yrehhioÏ¦gÙÏ®who¦gÙÏq°ÖrehqbegehbegebIfbpgeg¥j¦i«rehqbeguhbegubIfbpguj¦m«rehqbeghbegbIfbpg|rehqbeghbegbIfbpgpjgi«rfpg¦äØqtiähg¦gÙÏzhgoÏ¦gÙÏgezge÷geg¦f×jgpgqs«reigÐqpg¦gÙzÏxhgh¥gzÏogxÏ{geoge÷geo{giogi÷gig¦mÏgq¦gÐqrepppuÏpr¦fÏrv¬repp¦ein¦egem¦egeg¥k¦e¯i¥k¦hÖjg¥k¦fÐi¦h®i¥¦eoqfpegk¦áÖoqh¥gge ggi ggm ggq g¦uÏgq¦iÐqreppji¥eo¦gÙÏgjqh¥gge g¦iÏgq¦fÐqreppg¥i¦h®i¥¦eoqfphgk¦áÖoqh¥gge ggi ggm ggq g¦uÏgq¦iÐqreppji¥ho¦gÙÏgh¥gge g¦iÏgj¦fÐjreppk¦uÐskk¦v­i¥¦ei¦eqqgpbx¦ejhgh¥gbeeebJfbKfbIfgbeeubJfbKfbIfgbeebJfbKfbIfgbeebJfbKfbIfg¦¥Ðgj¦uÏjs­repi¦ÕÖq¦fiqfpk¦uÐsk¦eqpbhbgbebf÷÷÷g¥kq±req¦äØkÏpk¦hÖoiähq¦gÙÏgojh¥ggeøù÷g¦iÏgj¦fÐjrepoq×jqpqp¦h®rekqÐjhq¦gÙÏgh¥ggqøùggmøùggiøùggeøù÷÷÷÷g¦uÏgj¦iÐjrepp¦ejii¥bxhgh¥ggbeeebJfbpeeggbeeubJfbpeuggbeebJfbpeggbeebJfbpeg¦¥Ðgj¦uÏjs­reppk¨eeå$÷úfkÐtg¥jk³rekkjÐf¦h°iäf¦áÖr¦iÐg¦gÛ¦fÏo¦hÖqbx¦epg¦q´i¥o¦adddlÖohj¦gÙÏgh¥ggbegebJfbpgeggbegubJfbpguggbegbJfbpgggbegbJfbpgg¦¥Ðgp¦uÏpo¦iÐoreppqi¥hjpÏ¦gÙÏgh¥ggbegebJfbpgeg¦uÏgq¦fÐqreppfr«rfjrÏjjpjÐqhj¦gÙÏgh¥gggeøgeg¦iÏgq¦fÐqreppöt¦e¯i¥l¦gÙu¦er¦ekÐvk¦fÖwk¦fÐ¦ÕÖq eoh¥er¦gÙÏygeekrÏ¦gÙÏ|gäiªi¥bqeeeeeeeeeeeeeeeebqeeeeeeeeeeeeeeee¦eqfpbx¦eg¦epbqeeeeeeeeeeeeeeeebqeeeeeeeeeeeeeeeeh¥goÏfbeeebJfghÏjbeeebKfbIffbeeubJfjbeeubKfbIffbeebJfjbeebKfbIffbeebJfjbeebKfbIfbKfbIfbKfbIfbKfbIfbKfbIfg¦¥Ðgp¦uÏps­repqpf|gebhbgbebf÷÷÷bhbgbebf÷÷÷g¥fk³ref¦äØgwiäyf¦gÙjÏgeøhjÏgeù÷ù÷f¦f×jfpfgv«ref¦gÙgkfÐjh¥goÏfgiøghÏpgiùfgeøpgeù÷÷ùù÷÷g¦mÏgj¦gÐjreppú ú mgeÃi¥nrgemgep  ouÏolrÏrt­reppg¥l¦f±rengefllÑgÏjtjt­t¦epfgÐf¦ef¦e¯rg¥k¦e±i¥qfpk¦hÖjg¥k¦fÐ¦h®i¥qfper¦gÙÏgk¦áÖpqh¥gge ggi ggm ggq g¦uÏgq¦iÐqreppjªreeprÏ¦gÙÏgh¥gge g¦iÏgj¦fÐjrepprt³re¦ekÐpk¦fÖuer¦gÙÏok¦fÐ¦ÕÖl h¥er¦gÙÏvgeekrÏ¦gÙÏwgäiªi¥bqeeeeeeeeeeeeeeeebqeeeeeeeeeeeeeeee¦eqfpbx¦eqoghjbqeeeeeeeeeeeeeeeebqeeeeeeeeeeeeeeeeh¥gbeeebJfjbeeebKfbIfgbeeubJfjbeeubKfbIfgbeebJfjbeebKfbIfgbeebJfjbeebKfbIfbKfbIfbKfbIfbKfbIfbKfbIfg¦¥Ðgj¦¥Ðjq¦uÏqs­replpfwgebhbgbebf÷÷÷bhbgbebf÷÷÷g¥fk³ref¦äØguiävf¦gÙjÏgeøhjÏgeù÷ù÷f¦f×jfpfgp«ref¦gÙgkfÐjh¥goÏfgiøghÏqgiùfgeøqgeù÷÷ùù÷÷g¦mÏgj¦gÐjreppú ú mgeÃi¥nrgemgep  o¦iÏor¦fÏrt¬reppppetÙÆ×ÌÊÙÄËÊÆÙÚ×ÊØflØÎÒÉ`,s=String.raw`dynEncode010e15d7b662o{+nnns|{s{}O)q}szosmmvso~mpos  ÚN.OV.Oy/.O\N.Oy/.O/.O/N./O/N...x08.8 F..8.8 F..8.8 F..8.8 F.Ox/.Ox/.Ox/..VN..Oy0Z....x8.8 F../..T..y/..O0x/./N..x0..x08.8 F..8.8 F.Ox/.Oy0..x/..Ox0U.OZ.O/.8/.OT/.OT/./N..8. 0FN...8.8 F.OT..8.8 F...8.8 F..x/.Oy0N.0OVO.Oy/N..x08.¡0..x08¢.8.¡0.8¢.8.¡0.8¢.8.¡0.8¢.    /..¢..¢..¢..¢.    /.Ox/.Ox0.V.OyO0.\.O/.O..O0x8.¡0..x8¢. /..¢. /.O./O.y.T..y/..O0x/..x/N.8.¡0.¢.8.¡0.¢.  /..8¢..8¢.  /.Ox/.Ox/.Oy0..ÀQÍ 0£É..£É­.É°±ÄÊR/$N.......OD.ODN.OXN.O/.Oy0O]N./.O0/N. .8É®.8É®.8É®.8É®/ .Ox/.Oy0.N.O.x/./N. .8É®/ .Ox/.Oy0N.OWNO/./.O0/N.!.8É®.8É®.8É®.8É®/!.Ox/.Oy0.N.O.x/N.!.8É®/!.Ox/.Oy0.Oy/.À/.OVNO/O/.!Ä.£/O/./N.8.¡0.¢.8.¡0.¢.8.¡0.¢.8.¡0.¢.    /.Ox/.Ox0.V.O/O/.Oy/.À/O/.!.Å0!±Ä/N..\..Ox/.O0.O.x/./N.8.¡0.¢. /.Ox/.Oy0.../.OW..y/.O.x/N.8.¡0.¢.8.¡0.¢.8.¡0.¢.8.¡0.¢.    /.Ox/.Oy0O/.N./N..8.¡F..8.¡F..8.¡F..8.¡F.Ox/.Ox0.V..QÍ £/..y/N..\..Ox/..yO0N.O.x/N..8.¡F.Ox/.Ox/.Oy0.OW..y/.O.x/N..8.¡F..8.¡F..8.¡F..8.¡F.Ox/.Oy0./N.OZNO/.O/.O/O/./O/N. .8É¯/"..x8É/#.8/... .!±Ä..0.l..D..F../.".#®/ ..x/..x0.VN.OZ...z0x0...V)/O/..y0O.OX)/N.OZN.$/ .O/N.OyOWN.$/ .O.x/.$/ .O0/N. .8É®.8É®.8É®.8É®/ .Ox/.Oy0.S..xO.x/N. .8É®/ .Ox/.Oy0..\.O.x/..xO.x/N. .8É¯/".8É/#.8/... .!±Ä..0.lN..D..F.".#®/ .Ox/.Ox/.Ox0.U`;class o{constructor(e={}){this.t=e.correlationSampleSize>0?e.correlationSampleSize:11025,this.i=e.initialGranularity>0?e.initialGranularity:16,this.p=e.correlationThreshold>=0?e.correlationThreshold:.5,this.o=i.get(o),this.o||(this.o=(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))().then((e=>e?WebAssembly.compile(r(p)):WebAssembly.compile(r(s)))),i.set(this.o)),this.SynAudioWorker=function e(g,f,b){this.h=new Map,this.q=(e,g)=>Math.min(e.samplesDecoded,g.samplesDecoded,this.t),this.O=(e,g)=>Math.min(e.samplesDecoded,g.samplesDecoded,this.i),this.u=(e,g,f)=>{const b=g.BYTES_PER_ELEMENT;let r=f/b;for(let t=0;t<e.length;t++)f+=e[t].length*b,g.set(e[t],r),r+=e[t].length;return f},this.j=(g,f)=>{let b=this.h.get(g);if(!b){let f,r="text/javascript",t=`'use strict';(${((e,g,f,b)=>{self.onmessage=r=>{new e(Promise.resolve(r.data.module),f,b).l.get(g).apply(null,r.data.params).then((e=>{self.postMessage(e)}))}}).toString()})(${e.toString()}, "${g}", ${this.t}, ${this.i})`;try{f=void 0!==process.versions.node}catch{}b=f?`data:${r};base64,${Buffer.from(t).toString("base64")}`:URL.createObjectURL(new Blob([t],{type:r})),this.h.set(g,b)}const r=new(globalThis.Worker||t)(b,{name:"SynAudio"}),i=new Promise((e=>{r.onmessage=g=>{r.terminate(),e(g.data)}}));return this.o.then((e=>{r.postMessage({module:e,params:f})})),i},this.m=(e,g)=>{const f=Float32Array.BYTES_PER_ELEMENT,b=this.q(e,g),r=this.O(e,g),t=new WebAssembly.Memory({initial:(e.samplesDecoded*e.channelData.length+g.samplesDecoded*g.channelData.length)*f/65536+4});return this.o.then((e=>WebAssembly.instantiate(e,{env:{memory:t}}))).then((({exports:i})=>{const p=new Map(Object.entries(i)),s=p.get("correlate"),o=new Float32Array(t.buffer),h=new DataView(t.buffer),q=p.get("__heap_base").value,n=this.u(e.channelData,o,q),O=this.u(g.channelData,o,n),c=O+f;s(q,e.samplesDecoded,e.channelData.length,n,g.samplesDecoded,g.channelData.length,b,r,O,c);return{correlation:h.getFloat32(O,!0),sampleOffset:h.getInt32(c,!0)}}))},this.N=(e,g,f)=>{const b=[],r=[0],t=this.q(e,g),i=Math.log(e.samplesDecoded*t)/Math.log(this.i+1)*Math.log(t/1e4+1);f=Math.max(Math.round(Math.min(f,i,e.samplesDecoded/t/4)),1);const p=Math.ceil(e.samplesDecoded/f);let s=0;for(let i=0;i<f;i++){const f={channelData:[]};for(let g=0;g<e.channelData.length;g++){const b=e.channelData[g].subarray(s,s+p+t);f.channelData.push(b),f.samplesDecoded=b.length}s+=p-t,r.push(s),b.push(this.I(f,g))}return Promise.all(b).then((e=>{let g=0,f=-1;for(let b=0;b<e.length;b++)e[b].correlation>f&&(g=b,f=e[b].correlation);return{correlation:e[g].correlation,sampleOffset:e[g].sampleOffset+r[g]}}))},this.I=(e,g)=>this.j("_sync",[e,g]),this.k=(e,g,f)=>globalThis.Worker?this.j("_syncWorkerConcurrent",[e,g,f]):this.N(e,g,f),this.l=new Map([["_sync",this.m],["_syncWorker",this.I],["_syncWorkerConcurrent",this.N]]),this.o=g,this.t=f,this.i=b},this.v=new this.SynAudioWorker(this.o,this.t,this.i)}async syncWorkerConcurrent(e,g,f){return this.v.k(e,g,f>=1?f:1)}async syncWorker(e,g){return this.v.I(e,g)}async sync(e,g){return this.v.m(e,g)}async syncMultiple(e,g){g=g>=1?g:8;const f=[],b=[];let r=()=>{},t=Promise.resolve(),i=0;for(let g=0;g<e.length;g++)b.push({vertex:{}});for(let p=0;p<e.length;p++){const s=e[p],o=b[p].vertex;o.name=s.name,o.samplesDecoded=s.data.samplesDecoded,o.edges=new Set;for(let h=0;h<e.length;h++){if(p===h)continue;const q=e[h],n=b[h];i++,f.push(this.syncWorker(s.data,q.data).then((e=>{e.correlation>this.p&&o.edges.add({parent:o,vertex:n.vertex,samplesDecoded:q.data.samplesDecoded,...e}),i--,r()}))),i>=g&&(t=new Promise((e=>{r=e})),await t)}}await Promise.all(f);const p=(e,g)=>e.parent&&g.parent&&e.parent.samplesDecoded!==g.parent.samplesDecoded?e.parent.samplesDecoded>g.parent.samplesDecoded:e.correlation!==g.correlation?e.correlation>g.correlation:e.sampleOffset!==g.sampleOffset?e.sampleOffset>g.sampleOffset:e.vertex&&g.vertex&&e.vertex.name.localeCompare(g.vertex.name)<0,s=new Map,o=new Set,h=e=>{for(const g of e.edges.values()){if(s.has(e))return s.get(e);s.set(e,g);const f=h(g.vertex),b=g;if(f){let e,g;p(f,b)?(e=f,g=b):(e=b,g=f),g.cycleWith||(g.cycleWith=new Set,o.add(g)),g.cycleWith.add(e),e.cycleWith&&e.cycleWith.delete(g)}s.delete(e)}};for(const{vertex:e}of b)h(e);for(const e of o)e.cycleWith.size&&e.parent.edges.delete(e);const q=new Set;for(const e of b)q.add(e.vertex);for(const e of b)for(const g of e.vertex.edges)q.delete(g.vertex);const n=(e,g,f,b=0)=>{for(const r of f)e.has(r.vertex)&&p(e.get(r.vertex),r)||e.set(r.vertex,{name:r.vertex.name,correlation:r.correlation,sampleOffset:b+r.sampleOffset}),n(e,g,r.vertex.edges,b+r.sampleOffset)},O=[];for(const e of q){const g=new Map;g.set(e,{name:e.name,sampleOffset:0}),n(g,e,e.edges),O.push([...g.values()].sort(((e,g)=>e.sampleOffset-g.sampleOffset||(e.correlation||0)-(g.correlation||0)||g.name.localeCompare(e.name))))}return O}}const h=o}}]);
//# sourceMappingURL=icecast-metadata-player-1.17.1.synaudio.min.js.map