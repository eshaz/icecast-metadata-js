
/*! 
 * Copyright 2021-2024 Ethan Halsall
 * https://github.com/eshaz/icecast-metadata-js
 *
 * This file is part of icecast-metadata-player.
 *
 * icecast-metadata-player free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * icecast-metadata-player distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>
 */
(self.webpackChunkIcecastMetadataPlayer=self.webpackChunkIcecastMetadataPlayer||[]).push([[731],{178:(d,f,a)=>{"use strict";a.d(f,{D4:()=>o});const e=(d,f=4294967295,a=79764919)=>{const e=new Int32Array(256);let o,t,h,s=f;for(o=0;o<256;o++){for(h=o<<24,t=8;t>0;--t)h=2147483648&h?h<<1^a:h<<1;e[o]=h}for(o=0;o<d.length;o++)s=s<<8^e[255&(s>>24^d[o])];return s},o=(d,f=e)=>{const a=d=>new Uint8Array(d.length/2).map((f,a)=>parseInt(d.substring(2*a,2*(a+1)),16)),o=d=>a(d)[0],t=new Map;[,8364,,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,,381,,,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,,382,376].forEach((d,f)=>t.set(d,f));const h=new Uint8Array(d.length);let s,n,i,g=!1,r=0,z=42,q=d.length>13&&"dynEncode"===d.substring(0,9),p=0;q&&(p=11,n=o(d.substring(9,p)),n<=1&&(p+=2,z=o(d.substring(11,p))),1===n&&(p+=8,i=(d=>new DataView(a(d).buffer).getInt32(0,!0))(d.substring(13,p))));const y=256-z;for(let f=p;f<d.length;f++)if(s=d.charCodeAt(f),61!==s||g){if(92===s&&f<d.length-5&&q){const a=d.charCodeAt(f+1);117!==a&&85!==a||(s=parseInt(d.substring(f+2,f+6),16),f+=5)}if(s>255){const d=t.get(s);d&&(s=d+127)}g&&(g=!1,s-=64),h[r++]=s<z&&s>0?s+y:s-z}else g=!0;const l=h.subarray(0,r);if(q&&1===n){const d=f(l);if(d!==i){const f="Decode failed crc32 validation";throw console.error("`simple-yenc`\n",f+"\n","Expected: "+i+"; Got: "+d+"\n","Visit https://github.com/eshaz/simple-yenc for more information"),Error(f)}}return l}},761:d=>{d.exports=Worker},875:(d,f,a)=>{"use strict";a.r(f),a.d(f,{default:()=>z});var e=a(178),o=a(761);const t=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),h=new WeakMap,s=new WeakMap,n=String.raw`dynEncode0164283d7f25dÅ×ÑedddereÄnããããããããããdfsegÉÒÚjÑÉÑÓÖÝfdfgfedjleãd¥äìhokfmÇÓÖÖÉÐÅØÉddoÃÃÌÉÅÔÃÆÅ×Égdn&e#inãoâlálàkßf¤¦bcccs¨ddddddT£¨ddddddddof¤f¤f¥f¬qdf¥eÏree¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz¥fØy¥fØ¥¤ÕÏdÎue¥fØvr|d¥¤Ïsqg¤soqndf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdsuvÐfÎ­ufsÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz¥fØoÎndfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooqvÎqvwÎw¦eà|¶qdopeoe©qddde¥fØqÎ­hãdef¥fØ¥hÏÐdÎ­i¥doe¥h­Ös¦eá¦eç~d¥Îod¥Înd¥tÎp¦çxr}g¤ây¦dzf¤s©h¤ddadfddy¥fØfÎadfdaHeaofdf¤x¦hµqdppadfdfpÎadfdaHeaofdx¦lµqdnnadfdfnÎadfdaHeaofdx¦pµqdooadfdfoÎadfdaHeaofdoxzµqeo~´hâziz¥fØdÎfffdyzà¥fØdÎfdöfdz¦eèoyzµqdyázwy¥fØvÎudfg¤fvÎrrfdfuÎtfdöfdrrfhtfhöfhf¥lÎfz¦fáz¦d¶qdooqwÎw¦eà}¶qdoof¤i¥f¬qdi¥eÏfhh¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz¥fØy¥fØ¥¤ÕÏgÎsh¥fØif|¥dwg¥¤Ïhq¦dg¤hoqngf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdhsiÐfÎ­sfhÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz¥fØoÎngfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooiqÎqiwÎw¦eà|¶qdopeoh©qdggh¥fØpÎ­hãghi¥fØ¥hÏÐgÎ­i¥doh¥h­Ör¦eá¦eç~g¥Îhg¥Îig¥tÎo¦çxf}¥dw¦dg¤ây¦dzf¤r©h¤ggadfdgy¥fØfÎadfdaHeaofdf¤x¦hµqdooadfdfoÎadfdaHeaofdx¦lµqdiiadfdfiÎadfdaHeaofdx¦pµqdhhadfdfhÎadfdaHeaofdoxzµqeo~´hâziz¥fØgÎfffdyzà¥fØgÎfdöfdz¦eèoyzµqdyázwy¥fØqÎsgfg¤fqÎnnfdfsÎvfdöfdnnfhvfhöfhf¥lÎfz¦fáz¦d¶qdoopwÎw¦eà}¶qdoo¥drm¥dfdl¥dfdjxfâj©h¤¦Ô¦dpeo¦df¤j¥e«h¤dfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz¥fØdÎfg¤ffdf¥hÎfz¦eáz¦d¶qdoo¦df¤j¥e«h¤apddddddddddddddddgfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz¥fØgÎfg¤ffdf¥hÎfz¦eáz¦d¶qdoox¦táj¦dj¥u­qd~aw¦dzgfg¤fadddaIeaJeaHefaddtaIeaJeaHefaddaIeaJeaHefaddaIeaJeaHef¥¤Ïfz¦tàz·qdo¥erx¦uá¦Ôç¦tàoyadaeöaföagöf¤xy»qdxxyá¦h¾hâapddddddddddddddddady¥fØgÎfaw¦àçzg¤fadfdaIeaJeaHef¥tÎfz¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadµqeyàiyoyázy¥fØgÎfg¤ffd÷øöf¥hÎfz¦eáz¦d¶qdoojj§ddä#ö¦dzrh¤awgfg¤ffadddaIeaoddffaddtaIeaodtffaddaIeaodffaddaIeaodf¥¤Ïfz¦tàz·qdooùf¤xz»qdxxzá¦gºhâz¥fØgÎfaw¦àçyg¤ffadfdaIeaofdf¥tÎfy¦háy¦d¶qdoµqezàizozáyz¥fØgÎfg¤fffd÷fdf¥hÎfy¦eáy¦d¶qdooejÏhõej«h¤h|k¥fØo§ddä£ùx¦uá¦Ôç¦tàlfdk{dn¦dg¤fâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dz¥dfapddddddddddddddddapddddddddddddddddg¤fnÎeadddaIefgÎiadddaJeaHeeaddtaIeiaddtaJeaHeeaddaIeiaddaJeaHeeaddaIeiaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfz¦tàz·qdooye¥fØdÎifdadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady¥fØfaw~¦àç}zg¤fnÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy¥fØfg¤fnÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØiÎfdøøÄ©hámefdlfdionoÎn{à|¸qdoof¤k¥e±qdmfdekkÐiÎfhfh­keiÏhf¤j©h¤peo¦dyj¥e«h¤h¥fØdÎfapddddddddddddddddxçyzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxyµqeoe¥fØy¥fØÎi¥fØÏdÎfxyázg¤ffdf¥hÎfz¦eáz¦d¶qdoohk³qdk|he¥fØi¥fØÏdÎo§ddä£ùx¦uá¦Ôç¦tàlfdg¤fâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dzofgpapddddddddddddddddapddddddddddddddddg¤fadddaIepadddaJeaHefaddtaIepaddtaJeaHefaddaIepaddaJeaHefaddaIepaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfp¥¤Ïpz¦tàz·qdooye¥fØdÎhfdadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady¥fØfaw~¦àç}zg¤foÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy¥fØfg¤foÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØhÎfdøøÄ©hámefdlfdioo¥hÎo¦eà|¶qdoooo`,i=String.raw`dynEncode0112b0cda4ccs/rrr!wwS-uw~swqqzwsqtswå$­R2SZ2S}32TkR2T32¹S32¿32S"|43R232323T3R22<22|4<¤J22<2<¤J22<2<¤J22<2<¤J24S"|324S"|32S"|32T42e22gRR22<2<¤J2S|32S|322T4g22|322|322 T4 d2Ti2¹S32<3!2¿323R22!2<¤4!JR2Tc22<2<¤J2Tc22<2<¤J2Tc22<2<¤J22|32T4Td R24TeT2T32T3R22|4<2¥422|4<¦2¤2<2¥4 2<¦¤2<2¥4!2<¦¤2<2¥4"2<¦¤322¦2¤2 2 ¦¤2!2!¦¤2"2"¦¤32S"|32T42e2TT42k22Tb222¹S4|<2¥422|<¦2¤322¦2¤32T32T2c22322¹S4|322|3R2<2¥42¦2<2¥4 2 ¦2¤¤322<¦2 2<¦2¤¤32S|32S|32T4Td22ÆUÑ¤4§Í22§Í±2Í´µÈµRT!3!VQ3+V3,R22¿2"22¿2"S32SH2SH2¿3 2WRT3T2 T32SaR232 2!43R2&2<Í²2<Í²2<Í²2<Í²3&2S"|32T4Td2b4WR2¹S2|323R2&2<Í²3&2S|32T4TdR2S[RT3232 2!43R2'2<Í²2<Í²2<Í²2<Í²3'2S"|32T4Td2WR2¹S2|3R2'2<Í²3'2S|32T4Td2 T32Å3%T2S[,2'È2%§3"T323R2<2"¥4$2$¦2#¤2<2"¥4#2#¦¤2<2"¥4#2#¦¤2<2"¥4#2#¦¤3#2S"|32T42eS32 TTT32'2Ê4'µÈ3"R22 k2 2T4b22¹S2|323R2<2"¥4$2$¦2#¤3#2S|32T4Td22322 Th2 2322¹4}S2|S2|3R2<2"¥4$2$¦2<2"¥4$2$¦2<2"¥4$2$¦2<2"¥4$2$¦2#¤¤¤¤3#2S"|32T4Td2%UÑ¤3%T32R23R22<2"¥J22<2"¥J22<2"¥J22<2"¥J2S"|32T42e2#2%§3#R22 k232 2T4bWR2232¹S2|3R22<2"¥J2S|32T4Td22 Th2 232¹S2|3R22<2"¥J22<2"¥J22<2"¥J22<2"¥J2S"|32T4Td22}3-2#£3"S322YR2-¿32S32S3.2+2'µ3(2¿3T3S323R2&2<Í³3)22|<Í3*2<3#222&2(´È2"2 "4%2#qW22H22%J2232)2*²3&22.|322|32242fR2S_222~4|42-22-[-322}3R2WR2,3&2 T3R2S[R2,3&T32S2|32,3&2 2!43R2&2<Í²2<Í²2<Í²2<Í²3&2S"|32T4Td2b2S2¹S|2S}2|3R2&2<Í²3&2S|32T4Td22a2S2S}2|32S32¿2¿32+2'µ3'R2&2<Í³3(22|<Í3)2<3#222&2'´È2"2 "4%2#qWR22H22%J2(2)²3&2S|32S|32T4Td`,g=String.raw`dynEncode01643fb3d24fdÅ×ÑedddereÄnããããããããããdfvegÉÒÚjÑÉÑÓÖÝfgfäähgfedjleãd¥äìhokfmÇÓÖÖÉÐÅØÉddoÃÃÌÉÅÔÃÆÅ×Égdn&e#inãoâlálàkßf¤¦bcccs¨ddddddT£¨ddddddddof¤f¤f¥f¬qdf¥eÏree¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz¥fØy¥fØ¥¤ÕÏdÎue¥fØvr|d¥¤Ïsqg¤soqndf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdsuvÐfÎ­ufsÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz¥fØoÎndfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooqvÎqvwÎw¦eà|¶qdopeoe©qddde¥fØqÎ­hãdef¥fØ¥hÏÐdÎ­i¥doe¥h­Ös¦eá¦eç~d¥Îod¥Înd¥tÎp¦çxr}g¤ây¦dzf¤s©h¤ddadfddy¥fØfÎadfdaHeaofdf¤x¦hµqdppadfdfpÎadfdaHeaofdx¦lµqdnnadfdfnÎadfdaHeaofdx¦pµqdooadfdfoÎadfdaHeaofdoxzµqeo~´hâziz¥fØdÎfffdyzà¥fØdÎfdöfdz¦eèoyzµqdyázwy¥fØvÎudfg¤fvÎrrfdfuÎtfdöfdrrfhtfhöfhf¥lÎfz¦fáz¦d¶qdooqwÎw¦eà}¶qdoof¤i¥f¬qdi¥eÏfhh¥u³h¤¦tá¦uáy¦Ôçx¦uàzzºzxá¦tá~z¦gç}áxz¥fØy¥fØ¥¤ÕÏgÎsh¥fØif|¥dwg¥¤Ïhq¦dg¤hoqngf¦dzg¤ffwÎpadddfadddaHeaoddfpaddtfaddtaHeaodtfpaddfaddaHeaodfpaddfaddaHeaodop¥¤Ïonr¥¤Ïnf¥¤Ïfz¦tàz·qdof¤z¾qdf¤~¦k¼qdhsiÐfÎ­sfhÎ¯Õqdxyg¤ppadfdradfdaHeaofdp¥tÎpr¥tÎry¦háy¦d¶qdo}´qexzàzowz¥fØoÎngfg¤foÎppfdfnÎfdöfdf¥hÎfz¦eàz¸qdooiqÎqiwÎw¦eà|¶qdopeoh©qdggh¥fØpÎ­hãghi¥fØ¥hÏÐgÎ­i¥doh¥h­Ör¦eá¦eç~g¥Îhg¥Îig¥tÎo¦çxf}¥dw¦dg¤ây¦dzf¤r©h¤ggadfdgy¥fØfÎadfdaHeaofdf¤x¦hµqdooadfdfoÎadfdaHeaofdx¦lµqdiiadfdfiÎadfdaHeaofdx¦pµqdhhadfdfhÎadfdaHeaofdoxzµqeo~´hâziz¥fØgÎfffdyzà¥fØgÎfdöfdz¦eèoyzµqdyázwy¥fØqÎsgfg¤fqÎnnfdfsÎvfdöfdnnfhvfhöfhf¥lÎfz¦fáz¦d¶qdoopwÎw¦eà}¶qdoo¥drm¥dfdl¥dfdjxfâj©h¤¦Ô¦dpeo¦df¤j¥e«h¤dfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz¥fØdÎfg¤ffdf¥hÎfz¦eáz¦d¶qdoo¦df¤j¥e«h¤apddddddddddddddddgfxçzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxµqeoxáz¥fØgÎfg¤ffdf¥hÎfz¦eáz¦d¶qdoox¦táj¦dj¥u­qd~aw¦dzgfg¤fadddaIeaJeaHefaddtaIeaJeaHefaddaIeaJeaHefaddaIeaJeaHef¥¤Ïfz¦tàz·qdo¥erx¦uá¦Ôç¦tàoyadaeöaföagöf¤xy»qdxxyá¦h¾hâapddddddddddddddddady¥fØgÎfaw¦àçzg¤fadfdaIeaJeaHef¥tÎfz¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadµqeyàiyoyázy¥fØgÎfg¤ffd÷øöf¥hÎfz¦eáz¦d¶qdoojj§ddä#ö¦dzrh¤awgfg¤ffadddaIeaoddffaddtaIeaodtffaddaIeaodffaddaIeaodf¥¤Ïfz¦tàz·qdooùf¤xz»qdxxzá¦gºhâz¥fØgÎfaw¦àçyg¤ffadfdaIeaofdf¥tÎfy¦háy¦d¶qdoµqezàizozáyz¥fØgÎfg¤fffd÷fdf¥hÎfy¦eáy¦d¶qdooejÏhõej«h¤h|k¥fØo§ddä£ùx¦uá¦Ôç¦tàlfdk{dn¦dg¤fâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dz¥dfapddddddddddddddddapddddddddddddddddg¤fnÎeadddaIefgÎiadddaJeaHeeaddtaIeiaddtaJeaHeeaddaIeiaddaJeaHeeaddaIeiaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfz¦tàz·qdooye¥fØdÎifdadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady¥fØfaw~¦àç}zg¤fnÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy¥fØfg¤fnÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØiÎfdøøÄ©hámefdlfdionoÎn{à|¸qdoof¤k¥e±qdmfdekkÐiÎfhfh­keiÏhf¤j©h¤peo¦dyj¥e«h¤h¥fØdÎfapddddddddddddddddxçyzg¤faÁfdaÃaTef¥lÎfz¦fáz¦d¶qdoaqlmnopqrsdefghijkaTeadxyµqeoe¥fØy¥fØÎi¥fØÏdÎfxyázg¤ffdf¥hÎfz¦eáz¦d¶qdoohk³qdk|he¥fØi¥fØÏdÎo§ddä£ùx¦uá¦Ôç¦tàlfdg¤fâr©h¤apddddddddddddddddapdddddddddddddddd¦dpeoaw¦dzofgpapddddddddddddddddapddddddddddddddddg¤fadddaIepadddaJeaHefaddtaIepaddtaJeaHefaddaIepaddaJeaHefaddaIepaddaJeaHeaJeaHeaJeaHeaJeaHeaJeaHef¥¤Ïfp¥¤Ïpz¦tàz·qdooye¥fØdÎhfdadaeöaföagöadaeöaföagöf¤xy»qdxxyá~¦h¾hâapddddddddddddddddadapddddddddddddddddady¥fØfaw~¦àç}zg¤foÎadfdaIefgÎadfdaJeaHef¥tÎfaJeaHez¦ház¦d¶qdoaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHeadaqlmnopqrsdefgdefgaHeaqhijkdefgdefgdefgaHead}~µqey}àiyoyázy¥fØfg¤foÎfd÷fgÎfdøöf¥hÎføöz¦eáz¦d¶qdooj¥fØhÎfdøøÄ©hámefdlfdioo¥hÎo¦eà|¶qdoooo`;class r{constructor(d={}){this.o=d.correlationSampleSize>0?d.correlationSampleSize:11025,this.t=d.initialGranularity>0?d.initialGranularity:16,this.h=d.correlationThreshold>=0?d.correlationThreshold:.5,this.i=!0===d.shared,this.q=h.get(r),this.p=s.get(r),this.q||(this.i?(this.q=WebAssembly.compile((0,e.D4)(g)),this.p=Promise.resolve(66560)):(this.q=t().then(d=>d?WebAssembly.compile((0,e.D4)(n)):WebAssembly.compile((0,e.D4)(i))),this.p=t().then(d=>66560)),h.set(this.q),s.set(this.p)),this.SynAudioWorker=function d(f,a,e,t,h){this.l=new Map,this.H=(d,f)=>Math.min(d.samplesDecoded,f.samplesDecoded,this.o),this.T=(d,f)=>Math.min(d.samplesDecoded,f.samplesDecoded,this.t),this.u=(d,f,a)=>{const e=new Float32Array(f.buffer);let o=a/this.J;for(let f=0;f<d.length;f++)a+=d[f].length*this.J,e.set(d[f],o),o+=d[f].length;return a},this.S=(d,f,a)=>{const e=4+(a+d.samplesDecoded*d.channelData.length*this.J+f.reduce((d,f)=>f.data.samplesDecoded*f.data.channelData.length*this.J+d,0)+f.length*this.J+f.length*this.m)/this.k;return new WebAssembly.Memory({initial:e,maximum:e,shared:this.i})},this.j=(d,f,a)=>[a,this.u(d.channelData,f,a)],this.R=(d,f,a)=>{const e=this.u(d.channelData,f,a),o=e+this.J;return[a,e,o,o+this.J]},this.I=(f,a)=>{let e=this.l.get(f);if(!e){let a,o="text/javascript",t=`'use strict';(${((d,f,a,e,o)=>{self.onmessage=t=>{new d(Promise.resolve(t.data.module),Promise.resolve(t.data.heapBase),a,e,o).v.get(f).apply(null,t.data.params).then(d=>{self.postMessage(d)})}}).toString()})(${d.toString()}, "${f}", ${this.i}, ${this.o}, ${this.t})`;try{a=void 0!==process.versions.node}catch{}e=a?`data:${o};base64,${Buffer.from(t).toString("base64")}`:URL.createObjectURL(new Blob([t],{type:o})),this.l.set(f,e)}const t=new(globalThis.Worker||o)(e,{name:"SynAudio"}),h=new Promise(d=>{t.onmessage=f=>{t.terminate(),d(f.data)}});return Promise.all([this.q,this.p]).then(([d,f])=>{t.postMessage({module:d,heapBase:f,params:a})}),h},this.M=(d,f,a,e,o,t,h,s,n,i,g)=>this.q.then(f=>WebAssembly.instantiate(f,{env:{memory:d}})).then(({exports:r})=>{const z=new Map(Object.entries(r)).get("correlate"),q=new DataView(d.buffer);z(f,a,e,o,t,h,s,n,i,g);return{correlation:q.getFloat32(i,!0),sampleOffset:q.getUint32(g,!0)}}),this.W=(d,f)=>this.p.then(a=>{const e=this.S(d,[{data:f}],a);let o,t,h,s,n;[o,n]=this.j(d,e,a),[t,h,s,n]=this.R(f,e,n);const i=this.H(d,f),g=this.T(d,f);return this.M(e,o,d.samplesDecoded,d.channelData.length,t,f.samplesDecoded,f.channelData.length,i,g,h,s)}),this.$=(d,f,a=1,e=()=>{})=>this.p.then(o=>{const t=this.S(d,f,o);let h,s,n,i,g;[h,g]=this.j(d,t,o);const r=f.map(f=>{[s,n,i,g]=this.R(f.data,t,g);const a=this.H(d,f.data),e=this.T(d,f.data);let o=f.syncStart||0,r=f.syncEnd||d.samplesDecoded;r-o<f.data.samplesDecoded&&(o=0,r=d.samplesDecoded);const z=Math.min(d.samplesDecoded,Math.max(0,o)),q=Math.min(d.samplesDecoded,Math.max(0,r));return[[t,h+z*d.channelData.length*this.J,q-z,d.channelData.length,s,f.data.samplesDecoded,f.data.channelData.length,a,e,n,i],z,f.name]});d=null,f=null;let z=0,q=0,p=0;const y=new Array(r.length),l=[];return new Promise((d,f)=>{e(0);const o=()=>{if(z>=r.length)return void(0===q&&d(y));const t=z++;q++;const h=this.I("_runCorrelate",r[t][0]).then(d=>{d.sampleOffset+=r[t][1],d.name=r[t][2],y[t]=d}).catch(f).finally(()=>{q--,p++,e(p/y.length),o()});l.push(h),q<a&&o()};o()})}),this.A=(d,f,a)=>{const e=[],o=[0],t=this.H(d,f),h=Math.log(d.samplesDecoded*t)/Math.log(this.t+1)*Math.log(t/1e4+1);a=Math.max(Math.round(Math.min(a,h,d.samplesDecoded/t/4)),1);const s=Math.ceil(d.samplesDecoded/a);let n=0;for(let h=0;h<a;h++){const a={channelData:[]};for(let f=0;f<d.channelData.length;f++){const e=d.channelData[f].subarray(n,n+s+t);a.channelData.push(e),a.samplesDecoded=e.length}n+=s-t,o.push(n),e.push(this.P(a,f))}return Promise.all(e).then(d=>{let f=0,a=-1;for(let e=0;e<d.length;e++)d[e].correlation>a&&(f=e,a=d[e].correlation);return{correlation:d[f].correlation,sampleOffset:d[f].sampleOffset+o[f]}})},this.P=(d,f)=>this.I("_sync",[d,f]),this._=(d,f,a)=>globalThis.Worker?this.I("_syncWorkerConcurrent",[d,f,a]):this.A(d,f,a),this.v=new Map([["_sync",this.W],["_runCorrelate",this.M],["_syncOneToMany",this.$],["_syncWorker",this.P],["_syncWorkerConcurrent",this.A]]),this.q=f,this.p=a,this.i=e,this.o=t,this.t=h,this.k=65536,this.J=Float32Array.BYTES_PER_ELEMENT,this.m=Uint32Array.BYTES_PER_ELEMENT},this.O=new this.SynAudioWorker(this.q,this.p,this.i,this.o,this.t)}async syncWorkerConcurrent(d,f,a){return this.O._(d,f,a>=1?a:1)}async syncWorker(d,f){return this.O.P(d,f)}async sync(d,f){return this.O.W(d,f)}async syncOneToMany(d,f,a,e){const o=this.O.$(d,f,a,e);return d=null,f=null,o}async syncMultiple(d,f){f=f>=1?f:8;const a=[],e=[];let o=()=>{},t=Promise.resolve(),h=0;const s=()=>{t=new Promise(d=>{o=d})};for(let f=0;f<d.length;f++)e.push({vertex:{}});for(let n=0;n<d.length;n++){const i=d[n],g=e[n].vertex;g.name=i.name,g.samplesDecoded=i.data.samplesDecoded,g.edges=new Set;for(let r=0;r<d.length;r++){if(n===r)continue;const z=d[r],q=e[r];h++,a.push(this.syncWorker(i.data,z.data).then(d=>{d.correlation>this.h&&g.edges.add({parent:g,vertex:q.vertex,samplesDecoded:z.data.samplesDecoded,...d}),h--,o()})),h>=f&&(s(),await t)}}await Promise.all(a);const n=(d,f)=>d.parent&&f.parent&&d.parent.samplesDecoded!==f.parent.samplesDecoded?d.parent.samplesDecoded>f.parent.samplesDecoded:d.correlation!==f.correlation?d.correlation>f.correlation:d.sampleOffset!==f.sampleOffset?d.sampleOffset>f.sampleOffset:d.vertex&&f.vertex&&d.vertex.name.localeCompare(f.vertex.name)<0,i=new Map,g=new Set,r=d=>{for(const f of d.edges.values()){if(i.has(d))return i.get(d);i.set(d,f);const a=r(f.vertex),e=f;if(a){let d,f;n(a,e)?(d=a,f=e):(d=e,f=a),f.cycleWith||(f.cycleWith=new Set,g.add(f)),f.cycleWith.add(d),d.cycleWith&&d.cycleWith.delete(f)}i.delete(d)}};for(const{vertex:d}of e)r(d);for(const d of g)d.cycleWith.size&&d.parent.edges.delete(d);const z=new Set;for(const d of e)z.add(d.vertex);for(const d of e)for(const f of d.vertex.edges)z.delete(f.vertex);const q=(d,f,a,e=0)=>{for(const o of a)d.has(o.vertex)&&n(d.get(o.vertex),o)||d.set(o.vertex,{name:o.vertex.name,correlation:o.correlation,sampleOffset:e+o.sampleOffset}),q(d,f,o.vertex.edges,e+o.sampleOffset)},p=[];for(const d of z){const f=new Map;f.set(d,{name:d.name,sampleOffset:0}),q(f,d,d.edges),p.push([...f.values()].sort((d,f)=>d.sampleOffset-f.sampleOffset||(d.correlation||0)-(f.correlation||0)||f.name.localeCompare(d.name)))}return p}}const z=r}}]);
//# sourceMappingURL=icecast-metadata-player-1.17.13.synaudio.min.js.map