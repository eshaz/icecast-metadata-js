
/*! 
 * Copyright 2021-2023 Ethan Halsall
 * https://github.com/eshaz/icecast-metadata-js
 *
 * This file is part of icecast-metadata-player.
 *
 * icecast-metadata-player free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * icecast-metadata-player distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>
 */
"use strict";(self.webpackChunkIcecastMetadataPlayer=self.webpackChunkIcecastMetadataPlayer||[]).push([[968],{662:(U,e,t)=>{function s(){const U=Uint8Array,e=Float32Array;s.modules||Object.defineProperties(s,{modules:{value:new WeakMap},setModule:{value(U,e){s.modules.set(U,Promise.resolve(e))}},getModule:{value(U,e){let t=s.modules.get(U);return t||(e?t=WebAssembly.compile(s.decodeDynString(e)):(e=U.wasm,t=s.inflateDynEncodeString(e).then((U=>WebAssembly.compile(U)))),s.modules.set(U,t)),t}},concatFloat32:{value(U,t){let s=new e(t),r=0,n=0;for(;r<U.length;)s.set(U[r],n),n+=U[r++].length;return s}},getDecodedAudio:{value:(U,e,t,s,r)=>({errors:U,channelData:e,samplesDecoded:t,sampleRate:s,bitDepth:r})},getDecodedAudioMultiChannel:{value(U,e,t,r,n,a){let i,T,o=[];for(i=0;i<t;i++){const U=[];for(T=0;T<e.length;)U.push(e[T++][i]||[]);o.push(s.concatFloat32(U,r))}return s.getDecodedAudio(U,o,r,n,a)}},crc32Table:{value:(()=>{let U,e,t,s=new Int32Array(256);for(U=0;U<256;U++){for(t=U<<24,e=8;e>0;--e)t=2147483648&t?t<<1^79764919:t<<1;s[U]=t}return s})()},decodeDynString:{value(e){let t,r,n,a=new U(e.length),i=parseInt(e.substring(11,13),16),T=256-i,o=!1,l=0,u=21,c=4294967295;for(;u<e.length;u++)if(r=e.charCodeAt(u),61!==r||o){if(92===r&&u<e.length-5){const U=e.charCodeAt(u+1);117!==U&&85!==U||(r=parseInt(e.substring(u+2,u+6),16),u+=5)}o&&(o=!1,r-=64),a[l]=r<i&&r>0?r+T:r-i,c=c<<8^s.crc32Table[255&(c>>24^a[l++])]}else o=!0;for(t=0;t<=8;t+=2)n|=parseInt(e.substring(13+t,15+t),16)<<4*t;if(n!==c)throw new Error("WASM string decode failed crc32 validation");return a.subarray(0,l)}},inflateDynEncodeString:{value:e=>(e=s.decodeDynString(e),new Promise((t=>{const r=String.raw`dynEncode0114db91da9buÂ‡Â*tÂ“Â“Â“tÂ“Â“Â“Â“Â“tÂ“Â“Â“Â“$#Â“UÂ¤Â¤Â“UÂ¤Â¤3ÂyÂÂƒÂ†ÂÂ„Â‰zzss|yuÂ„svuÂ‡yÃš&ÂˆÂ“4<054<,5T44^T44<(6U~J(44< ~A544U~6J0444ÂˆÂ†545 444J0444Â‰J,4UÂ“4ÂˆUÂ“Â‡Â…Ã’Â“7U45Â“4U4ZÂ“4U4U^/6545T4T44BUÂˆ~64CU~O4U54U~5 U5T4B4Z!4U~5U5U5T4U~6U4ZTU5U5T44~4O4U2ZTU5T44Z!4B6T44UÂˆ~64B6U~O44UÂˆ~4O4U~54U~5 44~C4~54U~5 44~5454UÂˆ4B6Ub!444~UO4U~5 Â“U5Â“4U4ZTUÂŠ#44U$4Â†64<4~B6^Â“4<444~UÂˆ~B4U~54UÂˆ544~544~UÂˆ5 ÂµÂ“UÃ¤#UJUÃ¨#5TT4U0ZTTUX5U5T4T4UÃ #~4OU4UÂ $~CÂˆ4~54U~5 T44$6U\!TTT4UaT4<6T4<64<Z!44~4N4<U~5 4UÂ”Z!4UÂ±_TUÂŠ#44UÂ•UÂˆ6UÃ”~B$544$6U\!4UÂˆ6UÂ¤#~B44UÃ¤#~B$~64<6_TUÂ‰#444UÂ”~B~6~54<Y!44<_!T4Y!4<64~444~AN44<U~6J4U5 44J4UÂ”[!U#44UÂŠO4U~54U~5 U54 Â“7U6844J44J 4UJ4UJ04VK(44<J44<J$4UÂ´~54U~5 4UÂ¤~5!TTT4U$5"UÂ“5TTTTTTT4U$"4VK,U54<(6U~64<$6_!4< 64~6A54A544U~6#J(UÂ’54A4UÂ‡[!44J(44#~A4UÂˆ6UÂ“Â‡UÂŠUÂ…[!44Â†64~64_!4<64~54<6T4<4]TU5 T4Y!44~44~AN4U~54U~54U5 44J(44J UÃ„A!U5UÂ”#UÃ´JU"UÃ”JUÂœ#UÃ”"JUÂ˜#UÂ´"JT4UÂ´ZTU5T4UÃ´ZTU5T4UDZTU5T4U$[T44~UO4U~5 UÃ”UÃ´4U~UÂ´$.U5T4UP[T4U~4~UO4U~5 UÂ˜#<UÂœ#<4U~U2$.UÃ„UN 44 ~UO4U~5 44!~UO4U~5 4U~4~UO4U~5 44J44J(U5 44UÂ¤~J@44UÃ¤~J<44UD~J844U~J44U$54U$5UÂ‘54U$54U1^4U1^Â†!4UÂ•~54U~5UÂ”54U~6U4U^/65T4T4U$54U~4BUÂˆ~4O4U54U~5 UU'464U'_/54UÂˆUÂ”~5T4T4U~4BUÂˆ~UO4U54U~5 UÂ54UÃ¤~4UÂ¤~4U~U'$!44~5U5T44\T44U<~$6U\!4U#aT4U~4UÂˆ~4O4U~5 U5U5U5TTT4U$"4YTUÂ5 4UÂˆ4~C5U5 U5U5444$4~64~\TUÂ5 4U~4UÂˆ~5T4Y!44O4U~54U~54U5 4CYTUÂ‹5 4UÃ¤~4UÂ¤~4U~4$6TUÂ54U\!44BÃ¦4BÃ¤~[!4U~4UD~4U~4UÂˆ~4$6TUÂŒ54U\!44BÂ†4BÂ„~[!44U<~4U4~$5 4U"UÂ˜#$544"Â†Y!454U^!44<J44<(J454U~84Â­UÂ”N!#%'+/37?GOWgwÂ‡Â—Â·Ã—Ã·UÃ¤;UÂ”9$%& !"#`;s.getModule(s,r).then((U=>WebAssembly.instantiate(U,{}))).then((({exports:s})=>{const r=new Map(Object.entries(s)),n=r.get("puff"),a=r.get("memory").buffer,i=new U(a),T=new DataView(a);let o=r.get("__heap_base");const l=e.length,u=o;o+=4,T.setInt32(u,l,!0);const c=o;o+=l,i.set(e,c);const d=o;o+=4,T.setInt32(d,i.byteLength-o,!0),n(o,d,c,u),t(i.slice(o,o+T.getInt32(d,!0)))}))})))}}),Object.defineProperty(this,"wasm",{enumerable:!0,get:()=>this.U}),this.getOutputChannels=(U,e,t)=>{let s=[],r=0;for(;r<e;)s.push(U.slice(r*t,r++*t+t));return s},this.allocateTypedArray=(U,e,t=!0)=>{const s=this.U.malloc(e.BYTES_PER_ELEMENT*U);return t&&this.t.add(s),{ptr:s,len:U,buf:new e(this.U.HEAP,s,U)}},this.free=()=>{this.t.forEach((U=>{this.U.free(U)})),this.t.clear()},this.codeToString=U=>{const e=[],t=new Uint8Array(this.U.HEAP);for(let s=t[U];0!==s;s=t[++U])e.push(s);return String.fromCharCode.apply(null,e)},this.addError=(U,e,t,s,r,n)=>{U.push({message:e,frameLength:t,frameNumber:s,inputBytes:r,outputSamples:n})},this.instantiate=(U,e)=>(e&&s.setModule(U,e),this.U=new U(s).instantiate(),this.t=new Set,this.U.ready.then((()=>this)))}t.d(e,{Z:()=>s})},838:(U,e,t)=>{t.d(e,{Z:()=>n});var s=t(26),r=t(662);class n extends((()=>globalThis.Worker||s)()){constructor(U,e,t,s){r.Z.modules||new r.Z;let n=r.Z.modules.get(t);if(!n){let U,e="text/javascript",a=`'use strict';(${((U,e,t)=>{let s,r,n=new Promise((U=>{r=U}));self.onmessage=({data:{id:a,command:i,data:T}})=>{let o,l=n,u={id:a};"init"===i?(Object.defineProperties(U,{WASMAudioDecoderCommon:{value:e},EmscriptenWASM:{value:t},module:{value:T.module},isWebWorker:{value:!0}}),s=new U(T.options),r()):"free"===i?s.free():"ready"===i?l=l.then((()=>s.ready)):"reset"===i?l=l.then((()=>s.reset())):(Object.assign(u,s[i](Array.isArray(T)?T.map((U=>new Uint8Array(U))):new Uint8Array(T))),o=u.channelData?u.channelData.map((U=>U.buffer)):[]),l.then((()=>self.postMessage(u,o)))}}).toString()})(${t}, ${r.Z}, ${s})`;try{U=void 0!==process.versions.node}catch{}n=U?`data:${e};base64,${Buffer.from(a).toString("base64")}`:URL.createObjectURL(new Blob([a],{type:e})),r.Z.modules.set(t,n)}super(n,{name:e}),this.i=Number.MIN_SAFE_INTEGER,this.T=new Map,this.onmessage=({data:U})=>{const{id:e,...t}=U;this.T.get(e)(t),this.T.delete(e)},new s(r.Z).getModule().then((e=>{this.postToDecoder("init",{module:e,options:U})}))}async postToDecoder(U,e){return new Promise((t=>{this.postMessage({command:U,id:this.i,data:e}),this.T.set(this.i++,t)}))}get ready(){return this.postToDecoder("ready")}async free(){await this.postToDecoder("free").finally((()=>{this.terminate()}))}async reset(){await this.postToDecoder("reset")}}},514:(U,e,t)=>{t.d(e,{$:()=>s});const s=(U,e)=>{Object.defineProperty(U,"name",{value:e})}}}]);
//# sourceMappingURL=icecast-metadata-player-1.17.1.common.min.js.map